var $app=function(e){"use strict";function t(e){return e===!0||e===!1||e&&"object"==typeof e&&"[object Boolean]"==toString.call(e)||!1}function n(e,t){var n=this;return this.name=e,this.routes=void 0,this.module=null,this.access=0,this.components=[],this.dependencies=[],this.actions={},this.inactive=!1,this.register={controller:function(e,t){n.components.push([e,t,"controller"])},directive:function(e,t){n.components.push([e,t,"directive"])},factory:function(e,t){n.components.push([e,t,"factory"])},service:function(e,t){n.components.push([e,t,"service"])},filter:function(e,t){n.components.push([e,t,"filter"])}},angular.isFunction(t)&&(t={init:t}),angular.extend(this,t),this}function o(e,t){e.config(["$routeProvider",function(e){angular.forEach(t.routes,function(n,o){"otherwise"===o?e.otherwise(n):(n.area=t,e.when(o,n))})}])}function r(t){angular.forEach(e.areas,function(n){var r;n.name&&(n.init?r=n.init():(n.ns=e.generateNs(n.name),r=angular.module(n.ns,n.dependencies)),n.ns=r.name,t.push(n.ns),e.config&&e.tryModule(e.config.routeModule)&&o(r,n))})}function a(){angular.forEach(e.areas,function(t){angular.forEach(t.components,function(t){var n=t[2]||void 0;if(!n||!e.components[n])throw new Error("Unable to register component of type "+n);e.components[n].apply(null,t)})})}return e=e||{},e.ns="app",e.generateNs=function(t){return e.ns+"."+t},e.areas={},e.components={},e.viewBase="",e.tryModule=function(e){try{return angular.module(e)}catch(t){return!1}},e.noop=function(){},e.log=function(e){console.log(angular.isObject(e)?"\n"+JSON.stringify(e,null,4)+"\n":e)},angular.isBoolean=angular.isBoolean||t,e.Area=n,Object.defineProperty(e.areas,"register",{enumerable:!1,value:function(t,o){return e.areas[t]=e.areas[t]?angular.extend(e.areas[t],o):new n(t,o),e.areas[t]}}),Object.defineProperty(e.areas,"get",{enumerable:!1,value:function(t){return t?e.areas[t]:e.areas}}),e.init=function(t,n,o){var i,l;l={modules:[],routeModule:"ngRoute",defaultRoute:"/",defaultRouteOptions:{},otherwise:"/",viewBase:"",html5Mode:!0},n=angular.extend(l,n,o),t=t||n.modules||[],e.ns=n.ns||"app",e.viewBase=n.viewBase,e.pkg=o||n.pkg||"",e.config=n,r(t),i=angular.module(e.ns,t,["$controllerProvider","$compileProvider","$filterProvider","$provide",function(t,n,o,r){e.components.controller=t.register,e.components.directive=n.directive,e.components.factory=r.factory,e.components.service=r.service,e.components.filter=o.register,a()}]).config(["$locationProvider","$injector",function(t,o){var r={enabled:!0,requireBase:!1};angular.isBoolean(n.html5Mode)&&(n.html5Mode={enabled:n.html5Mode}),r=angular.extend(r,n.html5Mode),t.html5Mode(r),e.tryModule(n.routeModule)&&n.defaultRoute&&o.invoke(["$routeProvider",function(e){e.when("/",n.routeOptions),n.otherwise&&e.otherwise({redirectTo:n.otherwise})}])}]),angular.extend(e,i),angular.element(document).ready(function(){angular.bootstrap(document,[e.ns])})},e}($app);!function(){"use strict";angular.module("ai.autoform",[]).provider("$autoform",function(){var e,t,n={prefix:"",labels:!1};return t=function(e){n=angular.extend(n,e)},e=["$rootScope","$compile",function(e,t){function o(e){var t="";return angular.forEach(e,function(e,n){t+=n+'="'+e+'"'}),t}function r(r,a){var i,l={},c="";return i=a.scope||e.$new(),a=i.options=angular.extend(n,a),angular.forEach(a.model,function(e,t){var n,r,l,u,s=a.config[t]||{},p=t.charAt(0).toUpperCase()+t.slice(1);if(s){if(u=s.type||"text",n=o(s.attributes),l=a.prefix?' ng-model="'+a.prefix+"."+t+'" ':' ng-model="'+t+'" ',l=s.model===!1?"":l,r=s.attributes&&s.attributes.name?"":' name="'+t+'" ',c+="radio"!==u&&"checkbox"!==u?'<div class="form-group">':'<div class="'+u+'">',s.label&&(c+="radio"!==u&&"checkbox"!==u?"<label>"+p+"</label>":"<label>"),"select"===u||"textarea"===u)if("textarea"===u)c+="<textarea"+r+l+'class="form-control"></textarea>';else{i.items=s.items;var d=angular.isObject(s.data)?"key as value for (key, value) in list":"item."+s.value+" as item."+s.text+" for item in items",m="<select"+r+l+'class="form-control"'+n+'><option ng-options="'+d+'"></option></select>';c+=m}else c+="checkbox"===u||"radio"===u?"<input"+r+l+'type="'+u+'"'+n+"/> "+p+"</label>":"<input"+r+l+'type="'+u+'" class="form-control"'+n+"/>";s.help&&(c+='<p class="help-block">'+s.help+"</p>"),c+="</div>"}}),c+='<div class="form-buttons"><button type="submit" class="btn btn-primary">Submit</button></div>',c=t(c)(i),r.empty().html(c),l}return r}],{$get:e,$set:t}}).directive("aiAutoform",["$rootScope","$autoform",function(e,t){return console.log("auto form"),{scope:{options:"&aiAutoform",model:"=ngModel"},link:function(e,n){function o(){a.model=a.model||e.model,i=t(n,a)}var r,a,i;r={scope:e},a=angular.extend(r,e.$eval(e.options)),o()}}}])}(),function(){"use strict";angular.module("ai.click2call",[]).provider("$click2call",function(){var e,t,n,o;return e={gvid:void 0,template:"ai-click2call",message:"O.K we're calling to connect you! Be just a sec..."},o='<form name="c2cForm" class="ai-click2call" novalidate ng-submit="call(c2cForm, model)"><div class="form-group"><input class="form-control" name="name" type="text" ng-model="model.name" placeholder="Name (optional)" /></div><div class="form-group"><input class="form-control" name="number" type="text" ng-model="model.number" placeholder="Number (7605551212)" required/><span class="ai-click2call-error" ng-show="c2cForm.name.$error.required || (c2cForm.$dirty && c2cForm.$invalid)">Your number is required.</span></div><p><button class="btn btn-primary btn-block" type="submit">Call Now</button></p><p class="ai-click2call-message" ng-show="model.calling" ng-bind="model.message"></p></form>',n=function(t){e=angular.extend(e,t)},t=["$rootScope","$templateCache","$http","$q","$compile",function(t,n,r,a,i){function l(n){function o(e,t,n){var o,r,a,i=document.createElement("iframe");if(i.style.width=0,i.style.height=0,i.style.border=0,document.body.appendChild(i),i.contentDocument?o=i.contentDocument:i.contentWindow?o=i.contentWindow.document:i.document&&(o=i.document),null===o)throw new Error("Document not initialized");o.open(),o.write(""),o.close(),r=o.createElement("form"),r.method="post",r.action="https://clients4.google.com/voice/embed/webButtonConnect",a=o.createElement("input"),a.type="text",a.name="buttonId",a.value=""+e,r.appendChild(a),a=o.createElement("input"),a.type="text",a.name="callerNumber",a.value=""+t,r.appendChild(a),a=o.createElement("input"),a.type="text",a.name="name",a.value=""+n,r.appendChild(a),a=o.createElement("input"),a.type="text",a.name="showCallerNumber",a.value="1",r.appendChild(a),o.body.appendChild(r),r.submit()}var r,a,l={};return a=r.scope||t.$new(),r=a.options=angular.extend(e,r),a.model={message:r.message},a.call=l.call=function(e,t){if(!t||!t.number)return alert("Oops you forgot your number!");if(e.$valid){if(t.number=t.number.replace(/\D/g,""),t.calling=!0,t.number.length<10)return alert("Oops that doesn't look like enough numbers.");"1"!==t.number.charAt(0)&&(t.number="1"+t.number),o(r.gvid,t.number,t.name||"Unknown")}},c.fetch(r.template).then(function(e){e=i(e)(a),n.append(e)}),l}var c={find:function(e,t){return angular.element((t||document).querySelectorAll(e))},fetch:function(e){return a.when(n.get(e)||r.get(e)).then(function(t){return angular.isObject(t)?(n.put(e,t.data),t.data):t})},isHtml:function(e){var t="<(br|basefont|hr|input|source|frame|param|area|meta|!--|col|link|option|base|img|wbr|!DOCTYPE).*?>|<(a|abbr|acronym|address|applet|article|aside|audio|b|bdi|bdo|big|blockquote|body|button|canvas|caption|center|cite|code|colgroup|command|datalist|dd|del|details|dfn|dialog|dir|div|dl|dt|em|embed|fieldset|figcaption|figure|font|footer|form|frameset|head|header|hgroup|h1|h2|h3|h4|h5|h6|html|i|iframe|ins|kbd|keygen|label|legend|li|map|mark|menu|meter|nav|noframes|noscript|object|ol|optgroup|output|p|pre|progress|q|rp|rt|ruby|s|samp|script|section|select|small|span|strike|strong|style|sub|summary|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|track|tt|u|ul|var|video).*?</2>",n=new RegExp(t);return n.test(e)},isPath:function(e){var t=e.split(".").pop();return"html"===t||"tpl"===t}};return e.template&&(n.get(e.template)||n.put(e.template,o)),l}],{$set:n,$get:t}}).directive("aiClick2call",["$click2call",function(e){return{restrict:"EAC",scope:{options:"&aiClick2call"},link:function(t,n){var o,r,a,i;o={scope:t},a=function(){r=e(n,i)},i=angular.extend(o,t.$eval(t.options)),a()}}}])}(),function(){"use strict";angular.module("ai",["ai.click2call","ai.storage","ai.viewer","ai.autoform","ai.nicescroll"])}(),function(){"use strict";angular.module("ai.nicescroll",[]).directive("aiNicescroll",[function(){return{restrict:"EAC",scope:{options:"&aiNicescroll"},link:function(e,t){var n,o,r;console.assert(window.NiceScroll,"ai-nicescroll requires the NiceScroll library see: http://areaaperta.com/nicescroll/"),n={horizrailenabled:!1},o=function(){r=t.niceScroll(e.options)},e.options=angular.extend(n,e.$eval(e.options)),o()}}}])}(),function(){"use strict";angular.module("ai.storage",[]).provider("$storage",function(){function e(e){return e?navigator.cookieEnabled||"cookie"in document&&(document.cookie.length>0||(document.cookie="test").indexOf.call(document.cookie,"test")>-1):"localStorage"in window&&null!==window.localStorage}function t(e,n,o,r){if(!n)return o;o=o||null,r=r||0;var a=n.length;for(var i in e)if(e.hasOwnProperty(i)&&i===n[r])return a-1>r&&angular.isObject(e[i])?(r+=1,t(e[i],n,o,r)||o):e[i]||o;return o}var n,o,r={ns:"app",cookiePath:"/",cookieExpiry:30};return o=function(e){r=angular.extend(r,e)},n=[function(){function n(n){function o(){if(!b)return new Error("Keys can only be obtained when localStorage is available.");var e=[];for(var t in localStorage)if(localStorage.hasOwnProperty(t)&&t.substr(0,h)===f)try{e.push(t.substr(h))}catch(n){return n}return e}function a(e,t){if(!b)return s(e,t);void 0===typeof t&&(t=null);try{(angular.isObject(t)||angular.isArray(t))&&(t=angular.toJson(t)),localStorage.setItem(f+e,t)}catch(n){return s(e,t)}}function i(e,t){var n;return t?l(e,t):b?(n=localStorage.getItem(f+e),n?"{"===n.charAt(0)||"["===n.charAt(0)?angular.fromJson(n):n:null):p(e)}function l(e,n){var o,r;return b?(o=i(e),r=angular.isObject(o)||!1,o?r?t(o,n):o:new Error("Invalid operation, storage item must be an object.")):new Error("Cannot get by property, localStorage must be enabled.")}function c(e){if(!b)return d(e);try{localStorage.removeItem(f+e)}catch(t){return d(e)}}function u(){if(!b)return m();for(var e in localStorage)if(localStorage.hasOwnProperty(e)&&e.substr(0,h)===f)try{c(e.substr(h))}catch(t){return m()}}function s(e,t){if(void 0===typeof t)return!1;if(!v)return new Error("Cookies are not supported by this browser.");try{var o="",r=new Date;null===t&&(g.expiry=-1,t=""),g.expiry&&(r.setTime(r.getTime()+24*n.cookieExpiry*60*60*1e3),o="; expires="+r.toGMTString()),e&&(document.cookie=f+e+"="+encodeURIComponent(t)+o+"; path="+n.cookiePath)}catch(a){throw a}}function p(e){if(!v)return new Error("Cookies are not supported by this browser.");for(var t=document.cookie.split(";"),n=0;n<t.length;n++){for(var o=t[n];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(f+e+"="))return decodeURIComponent(o.substring(f.length+e.length+1,o.length))}return null}function d(e){s(e,null)}function m(){for(var e,t=null,n=document.cookie.split(";"),o=0;o<n.length;o++){for(t=n[o];" "===t.charAt(0);)t=t.substring(1,t.length);return e=t.substring(h,t.indexOf("=")),d(e)}}var f,g,h,v,b,w={};return n=angular.extend(r,n),f=n.ns+".",h=f.length,b=e(),v=e(!0),b||v?(w.supports={localStorage:e(),cookies:e(!0)},w.get=i,w.set=a,w.delete=c,w.clear=u,w.storage={keys:o,supported:b},w.cookie={get:p,set:s,"delete":d,clear:m,supported:v},w):new Error("Storage Factory requires localStorage browser support or cookies must be enabled.")}return n}],{$set:o,$get:n}})}(),function(){"use strict";angular.module("ai.viewer",[]).provider("$viewer",function(){var e,t,n={view:"<div ng-view />",animate:"slide"};return t=function(e){n=angular.extend(n,e)},e=["$rootScope","$compile","$location",function(e,t,o){function r(r,l){var c,u,s={};return u=l.scope||e.$new(),l=u.options=angular.extend(n,l),c=angular.element(u.options.view),c.addClass("ai-viewer-view"),u.options.animate&&c.attr("ng-class","state"),c=t(c)(u),r.addClass("ai-viewer"),r.append(c),s.getView=function(){return angular.element(document.querySelectorAll(".ai-viewer-view")[0])},s.getState=function(){return a},s.forward=function(e){o.path(e)},s.backward=function(e){i.push(e),o.path(e)},s}var a,i=[],l=!1;return e.$on("$routeChangeStart",function(e,t,n){var o=i.slice(0).pop(),r=t.$$route.originalPath;n=n||{$$route:"/"},l?r===o?(a="back",i.pop()):(a="forward",i.push(n.$$route.originalPath)):l=!0}),r}],{$get:e,$set:t}}).directive("aiViewer",["$rootScope","$viewer",function(e,t){return{restrict:"EA",scope:{options:"&aiViewer"},link:function(n,o){var r,a,i,l;r={scope:n},a=function(){l=t(o,i),e.$on("$routeChangeSuccess",function(){var e=l.getState(),t=l.getView();e&&n.options.animate&&t&&t.removeClass("forward"===e?"back":"forward").addClass(e),n.state=e})},i=angular.extend(r,n.$eval(n.options)),a()}}}])}();