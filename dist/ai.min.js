!function(e,t,a){"use strict";function n(){function e(e,t){return angular.extend(Object.create(e),t)}function t(e,t){var a=t.caseInsensitiveMatch,n={originalPath:e,regexp:e},r=n.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,a,n){var o="?"===n?n:null,i="*"===n?n:null;return r.push({name:a,optional:!!o}),t=t||"",""+(o?"":t)+"(?:"+(o?t:"")+(i&&"(.+?)"||"([^/]+)")+(o||"")+")"+(o||"")}).replace(/([\/$\*])/g,"\\$1"),n.regexp=new RegExp("^"+e+"$",a?"i":""),n}var a={};this.when=function(e,n){var r=angular.copy(n);if(angular.isUndefined(r.reloadOnSearch)&&(r.reloadOnSearch=!0),angular.isUndefined(r.caseInsensitiveMatch)&&(r.caseInsensitiveMatch=this.caseInsensitiveMatch),a[e]=angular.extend(r,e&&t(e,r)),e){var o="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";a[o]=angular.extend({redirectTo:e},t(o,r))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(t,n,o,i,l,s,A){function c(e,t){var a=t.keys,n={};if(!t.regexp)return null;var r=t.regexp.exec(e);if(!r)return null;for(var o=1,i=r.length;i>o;++o){var l=a[o-1],s=r[o];l&&s&&(n[l.name]=s)}return n}function u(e){var a=v.current;f=p(),h=f&&a&&f.$$route===a.$$route&&angular.equals(f.pathParams,a.pathParams)&&!f.reloadOnSearch&&!m,h||!a&&!f||t.$broadcast("$routeChangeStart",f,a).defaultPrevented&&e&&e.preventDefault()}function d(){var e=v.current,a=f;h?(e.params=a.params,angular.copy(e.params,o),t.$broadcast("$routeUpdate",e)):(a||e)&&(m=!1,v.current=a,a&&a.redirectTo&&(angular.isString(a.redirectTo)?n.path(g(a.redirectTo,a.params)).search(a.params).replace():n.url(a.redirectTo(a.pathParams,n.path(),n.search())).replace()),i.when(a).then(function(){if(a){var e,t,n=angular.extend({},a.resolve);return angular.forEach(n,function(e,t){n[t]=angular.isString(e)?l.get(e):l.invoke(e,null,null,t)}),angular.isDefined(e=a.template)?angular.isFunction(e)&&(e=e(a.params)):angular.isDefined(t=a.templateUrl)&&(angular.isFunction(t)&&(t=t(a.params)),t=A.getTrustedResourceUrl(t),angular.isDefined(t)&&(a.loadedTemplateUrl=t,e=s(t))),angular.isDefined(e)&&(n.$template=e),i.all(n)}}).then(function(n){a==v.current&&(a&&(a.locals=n,angular.copy(a.params,o)),t.$broadcast("$routeChangeSuccess",a,e))},function(n){a==v.current&&t.$broadcast("$routeChangeError",a,e,n)}))}function p(){var t,r;return angular.forEach(a,function(a){!r&&(t=c(n.path(),a))&&(r=e(a,{params:angular.extend({},n.search(),t),pathParams:t}),r.$$route=a)}),r||a[null]&&e(a[null],{params:{},pathParams:{}})}function g(e,t){var a=[];return angular.forEach((e||"").split(":"),function(e,n){if(0===n)a.push(e);else{var r=e.match(/(\w+)(?:[?*])?(.*)/),o=r[1];a.push(t[o]),a.push(r[2]||""),delete t[o]}}),a.join("")}var f,h,m=!1,v={routes:a,reload:function(){m=!0,t.$evalAsync(function(){u(),d()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw r("norout","Tried updating route when with no current route");e=angular.extend({},this.current.params,e),n.path(g(this.current.$$route.originalPath,e)),n.search(e)}};return t.$on("$locationChangeStart",u),t.$on("$locationChangeSuccess",d),v}]}angular.module("ai",["ai.helpers","ai.autoform","ai.list","ai.flash","ai.loader","ai.passport","ai.step","ai.storage","ai.table","ai.widget","ai.validate"]),angular.module("ai.helpers",[]).factory("$helpers",["$q","$templateCache","$http","$compile",function(e,n,r,o){function i(e,t){try{return e(t)}catch(n){return a}}function l(e){return/^\d+$/.test(e)?i(parseInt,e):a}function s(e){return/^\d+/.test(e)?i(parseFloat,e):a}function A(e){return/^true$/i.test(e)?!0:/^false$/i.test(e)?!1:a}function c(e){try{var t=Date.parse(e);return isNan(t)&&(t=a),t}catch(n){return a}}function u(e){if(!/^\//.test(e))return a;var t=e.split("/");t=t.pop()||"";try{return new RegExp(e,t)}catch(n){return a}}function d(e){return e.replace(/^\s+|\s+$/gm,"")}function p(e){return/^(true|false)$/i.test(e)}function g(e){return/<(svg|br|basefont|hr|input|source|frame|param|area|meta|!--|col|link|option|base|img|wbr|!DOCTYPE).*?>|<(a|abbr|acronym|address|applet|article|aside|audio|b|bdi|bdo|big|blockquote|body|button|canvas|caption|center|cite|code|colgroup|command|datalist|dd|del|details|dfn|dialog|dir|div|dl|dt|em|embed|fieldset|figcaption|figure|font|footer|form|frameset|head|header|hgroup|h1|h2|h3|h4|h5|h6|html|i|iframe|ins|kbd|keygen|label|legend|li|map|mark|menu|meter|nav|noframes|noscript|object|ol|optgroup|output|p|pre|progress|q|rp|rt|ruby|s|samp|script|section|select|small|span|strike|strong|style|sub|summary|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|track|tt|u|ul|var|video).*?<\/\2>/.test(e)}function f(e){if(!e||!angular.isString(e))return!1;var t=e.split(".").pop();return"html"===t||"tpl"===t}function h(e){var t=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!(!angular.isString(e)||!t.test(e))}function m(e){var t;try{t=JSON.stringify(e)}catch(a){}return!(!t||!/^{/.test(t))}function v(e,t){var n={};return angular.forEach(e,function(e){if(t[e]&&angular.isString(t[e])){var r=t[e],o=u(r);o===a&&(o=A(r)),o===a&&(o=c(r)),o===a&&(o=s(r)),n[e]=a===o?r:o}}),n}function E(e,a,n){var r="querySelectorAll";return n&&(r="querySelector"),angular.isElement(a)?a[r](e):angular.element((a||t)[r](e))}function y(e,t){n.get(e)||n.put(e,t)}function b(t){if(g(t)&&!f(t)||angular.isString(t)&&0===t.length){var a=e.defer();return a.resolve(t),a.promise}return e.when(n.get(t)||r.get(t)).then(function(e){return e.data?(n.put(t,e.data),e.data):e})}function w(e){var a,n;return e=e||"body",e=t.querySelector(e),angular.isElement(e)||(e=angular.element(e)),a=e.style.overflow||"auto",n=e.style.overflowY||"auto",{x:a,y:n}}function C(e,t){return o(t)(e)}function x(e){return angular.element("<div></div>").append(e.clone()).html()}function k(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}}function M(e,t){for(var n=t.split(".");n.length&&e;){var r,o=n.shift();if(r=new RegExp("(.+)\\[([0-9]*)\\]").exec(o),null!==r&&3===r.length){var i={arrName:r[1],arrIndex:r[2]};e=e[i.arrName]!==a?e[i.arrName][i.arrIndex]:a}else e=e[o]}return e}return{isHtml:g,isPath:f,isUrl:h,isPlainObject:m,trim:d,isBoolean:p,findElement:E,getPutTemplate:y,loadTemplate:b,getOverflow:w,compile:C,parseAttrs:v,tryParseFloat:s,tryParseInt:l,selfHtml:x,toObject:k,findByNotation:M}}]),angular.module("ai.autoform",["ai.helpers"]).provider("$autoform",function(){var e,t,n={prefix:"model",source:a,labels:a,type:"text",addClass:!1,textareaAt:35,datetimeExp:/^(0?[1-9]|1[012])(:[0-5]\d) [APap][mM]$/,phoneExp:/^(?!.*911.*\d{4})((\+?1[\/ ]?)?(?![\(\. -]?555.*)\( ?[2-9][0-9]{2} ?\) ?|(\+?1[\.\/ -])?[2-9][0-9]{2}[\.\/ -]?)(?!555.?01..)([2-9][0-9]{2})[\.\/ -]?([0-9]{4})$/,intExp:/^\d+$/,emailExp:/^[\w-]+(\.[\w-]+)*@([a-z0-9-]+(\.[a-z0-9-]+)*?\.[a-z]{2,6}|(\d{1,3}\.){3}\d{1,3})(:\d{4})?$/};return t=function(e,t){var a=e;arguments.length>1&&(a={},a[e]=t),n=angular.extend(n,a)},e=["$rootScope","$helpers",function(e,t){function r(e){if(!e||!angular.isObject(e))return"";var t=[];return angular.forEach(e,function(e,a){"ngModel"===a&&(a="ng-model"),t.push(a+'="'+e+'"')}),t.join(" ")}function o(e,t){return-1!==e.indexOf(t)}function i(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function l(e){return e.charAt(0).toUpperCase()+e.slice(1)}function s(e,a){return t.isBoolean(e)?"checkbox":a.phoneExp.test(e)?"tel":a.datetimeExp.test(e)?"datetime":a.intExp.test(e)?"number":a.emailExp.test(e)?"email":a.type}function A(e,t){var a=t,n="";return angular.forEach(e,function(e){var t='<label class="radio-inline"><input {{ATTRS}}/> {{NAME}}</label>';n+=t.replace("{{ATTRS}}",i(a+' value="'+e+'"')).replace("{{NAME}}",e)}),n}function c(c,u,d){function p(){var e="",n=[];angular.forEach(u.source,function(e,t){var c,d,p,g=f[t]=f[t]||{},h=l(t);c=g.attributes=g.attributes||{},c.type=g.type||c.type,c.name=c.name||t,c.value=e||c.value||g.value,c.type===a&&(c.type=s(c.value,u)),c.class=c.class||"",c.ngModel===!1||g.ngModel===!1?delete c.ngModel:c.ngModel=c.ngModel||g.ngModel||u.prefix?u.prefix+"."+t:t,g.values&&(angular.isString(g.values)&&(g.values=g.values.split(",")),!angular.isArray(g.values)&&angular.isObject(g.values)&&(c.type="select"),angular.isArray(g.values)&&(c.type="radio"===c.type?"radio":"select")),c.value&&angular.isString(c.value)&&c.value.length>u.textareaAt&&(c.type="textarea"),o(["checkbox","radio"],c.type)||(c.class=i(c.class.replace("form-control","")+" form-control")),d=c.value,o(["select","radio","textarea"],c.type)&&("radio"===c.type&&(g.checked=c.value),"select"===c.type&&(g.selected=c.value),"textarea"===c.type&&(g.content=c.value),delete c.value);var m=g.attributesStr=r(c);c.value=d;var v="";if(v+="checkbox"!==c.type?'<div class="form-group">':'<div class="checkbox">',"radio"!==c.type){var E="<label{{FOR}}>";E="checkbox"!==c.type?E.replace("{{FOR}}",' for="'+t+'"')+h+"</label>":E.replace("{{FOR}}",""),(u.labels!==!1||"checkbox"===c.type)&&(v+=E)}if(o(["select","textarea","radio"],c.type)){if("textarea"===c.type&&(p="<textarea {{ATTRS}}>{{CONTENT}}</textarea>",p=p.replace("{{CONTENT}}",c.value)),"select"===c.type){var y="",b=!angular.isArray(g.values);p="<select {{ATTRS}}>{{OPTIONS}}</select>",angular.forEach(g.values,function(e,t){var a="<option {{VALUE}}>{{TEXT}}</option>";a=b?a.replace("{{VALUE}}",t).replace("{{TEXT}}",e):a.replace("{{VALUE}}","").replace("{{TEXT}}",e),y+=a}),p=p.replace("{{OPTIONS}}",y)}"radio"===c.type&&(v+=A(g.values,m),v+="</div>")}else p="<input {{ATTRS}}/>";p&&(p=p.replace("{{ATTRS}}",m),v+=p),"checkbox"===c.type&&(v+=h+"</label>"),o(["radio"],c.type)||(v+="</div>"),n.push(v)});var d=angular.element("<div></div>"),p=angular.element("<form></form>");return e=n.join("\n"),c.replaceWith(d),p.html(e),d.append(p),g.model=u.source,t.compile(g,d.contents()),h}var g,f,h={};return d&&(d=t.parseAttrs(Object.keys(n),d)),u=u||{},h.scope=g=u.scope||e.$new(),h.options=g.options=u=angular.extend({},n,d,u),f=u.elements||{},angular.isString(u.source)&&(u.source=g.$eval(u.source)),p()}return c}],{$get:e,$set:t}}).directive("aiAutoform",["$autoform",function(e){return{restrict:"AC",scope:!0,link:function(t,a,n){function r(){l=e(a,i,n)}var o,i,l;o={scope:t},i=angular.extend(o,t.$eval(n.aiAutoform||n.aiAutoformOptions||n.aiFormOptions)),r()}}}]),angular.module("ai.flash.factory",["ai.helpers"]).provider("$flash",function(){var e,t,n;return e={template:"ai-flash.html",errorKey:"err",excludeErrors:[401,403,404],errorName:"Unknown Exception",errorMessage:"An unknown exception has occurred, if the problem persists please contact the administrator.",title:a,stack:!1,multiple:!1,type:"info",typeError:"danger",timeout:0,intercept:a,onError:a},n=function(t,a){var n=t;arguments.length>1&&(n={},n[t]=a),e=angular.extend(e,n)},t=["$rootScope","$timeout","$helpers",function(t,n,r){function o(e){if(a===e)return e;try{return JSON.parse(e)}catch(t){return e}}function i(){function i(e){clearTimeout(e.timeoutId),e.timeoutId=n(function(){e.focus?(clearTimeout(e.timeoutId),i(e)):(clearTimeout(e.timeoutId),s(e))},e.timeout)}function l(e,t,n,r){var l={title:a,type:y.type,focus:!1,show:!1,timeout:!1},s={};n=o(n),r=o(r),(angular.isNumber(n)||"boolean"==typeof n)&&(r=n,n=a),y.multiple||(b=[]),angular.isObject(e)||(s={message:e,type:t||y.type,title:n||y.title,timeout:r||y.timeout}),s=angular.extend({},l,s),s.timeout===!0&&(s.timeout=y.timeout),s.message&&(b.push(s),A.flashes=h.flashes=b,m.css({overflow:"hidden"}),E.addClass("show"),s.timeout&&i(s))}function s(e){e&&b.length&&(b.splice(b.indexOf(e),1),b.length||(m.css({overflow:v.x,"overflow-y":v.y}),E&&E.removeClass("show")))}function c(e){e?h.flashes=A.flashes=b=[]:b.length&&angular.forEach(h.flashes,function(e){e.shown===!0?s(e):e.shown=!0})}function u(e){e.focus=!0}function d(e){e.focus=!1}function p(){A.suppressed=!1}function g(e,t){var a=e;arguments.length>1&&(a={},a[e]=t),A=A||{},h=h||{},y=A.options=angular.extend(y,a),h&&(h.options=y)}function f(a,n,o){E=a,o=r.parseAttrs(Object.keys(e),o),A.scope=h=n.scope||t.$new(),y=angular.extend({},e,o,y,n),y.onError=y.onError||function(){return!0},A.options=h.options=y,h.add=l,h.remove=s,h.removeAll=c,h.flashes=b,h.leave=d,h.enter=u,h.set=g,h.suppress=p,A.add=l,A.remove=s,A.removeAll=c,A.suppress=p,r.loadTemplate(y.template).then(function(e){e?(E.html(e),r.compile(h,E.contents()),E.addClass("ai-flash")):console.error("Error loading $flash template.")}),t.$on("$locationChangeStart",function(){E&&E.removeClass("show"),m&&m.css({overflow:v.x,"overflow-y":v.y}),h.flashes=A.flashes=b=[]}),h.$watch(A.options,function(e,t){e!==t&&(h.options=e)}),h.$on("destroy",function(){A.destroy()})}var h,m,v,E,y,b=[];return A={},y={},m=r.findElement("body"),v=r.getOverflow(),A.set=g,A.init=f,A}function l(){return A||(A=i()),A}var s,A;return s='<div class="ai-flash-item" ng-repeat="flash in flashes" ng-mouseenter="enter(flash)" ng-mouseleave="leave(flash)" ng-class="flash.type"><a class="ai-flash-close" type="button" ng-click="remove(flash)">&times</a><div class="ai-flash-title" ng-if="flash.title" ng-bind-html="flash.title"></div><div class="ai-flash-message" ng-bind-html="flash.message"></div></div>',r.getPutTemplate(e.template,s),l()}],{$set:n,$get:t}}).directive("aiFlash",["$flash",function(e){return{restrict:"EAC",scope:!0,link:function(t,a,n){function r(){o=e.init(a,l,n)}var o,i,l;i={scope:t},l=t.$eval(n.aiFlash)||t.$eval(n.aiFlashOptions),l=angular.extend(i,l),r()}}}]),angular.module("ai.flash.interceptor",[]).factory("$flashInterceptor",["$q","$injector",function(e,t){return{responseError:function(a){function n(t){var n,o,i;return r.options.errorKey&&t[r.options.errorKey]&&(t=t[r.options.errorKey]),n=t.displayName||t.name||r.options.errorName,o=t.message||r.options.errorMessage,i=t.stack||"",i&&r.options.stack&&(angular.isArray(i)&&(i=i.join("<br/>")),angular.isString(i)&&/\\n/g.test(i)&&(i=i.split("\n").join("<br/>")),o+="<br/><strong>Stack Trace:</strong><br/>"+i),o="<strong>Message:</strong> "+o,o=o.replace(/From previous event:/gi,"<strong>From previous event:</strong>"),r.options.title!==!1?r.add(o,r.options.typeError,n):r.add(o,r.options.typeError),e.reject(a)}var r=t.get("$flash"),o=r.options.excludeErrors||[];if(r.options.intercept===!1||r.suppressed)return r.suppressed=!1,a;if(a.status&&-1===o.indexOf(a.status)){if(!a.data)return r.options.title!==!1?r.add(a.statusText,r.options.typeError||"flash-danger",a.status):r.add(a.statusText,r.options.typeError||"flash-danger"),e.reject(a);var i=a.data;e.when(r.options.onError(a,r)).then(function(e){e&&(e===!0&&(e=i),n(e))})}},response:function(a){var n=t.get("$flash");return n.suppressed=!1,a||e.when(a)}}}]).config(["$httpProvider",function(e){e.interceptors.push("$flashInterceptor")}]),angular.module("ai.flash",["ai.flash.factory","ai.flash.interceptor"]),angular.module("ai.list",["ai.helpers"]).provider("$list",function(){var e,t,n={text:"text",value:"value",display:!1,capitalize:a,searchable:!1,placeholder:"Please Select",btnClass:"btn-default",allowNull:a,addClass:a,template:"list.tpl.html",itemTemplate:"list-item.tpl.html",itemGroupTemplate:"list-item-group.tpl.html",searchTemplate:"list-search.tpl.html",source:[],params:{},queryParam:"q",method:"get",groupKey:a,groupDisplay:a,selectClose:a,selectClear:a,closeClear:a,blurClose:a,closePrevious:a,onToggled:!1,onSelected:!1,onFilter:!1,onReady:!1};return t=function(e,t){var a=e;arguments.length>1&&(a={},a[e]=t),n=angular.extend(n,a)},e=["$q","$parse","$filter","$http","$helpers","$timeout",function(e,t,r,o,i){function l(l,s,A){function c(e){if(!e)return[];var t,n=s.groupKey?{}:[];if(angular.isString(e)&&(e=i.trim(e).split(",")),angular.isObject(e)&&!angular.isArray(e)){var r=[];angular.forEach(e,function(e,t){var a={};a[s.text]=e,a[s.value]=t,r.push(a)}),e=r}return s.allowNull!==!1&&angular.isArray(n)&&n.push(Q),s.allowNull!==!1&&angular.isObject(n)&&(n._placeholder={key:"placeholder",display:!1,hidden:!1,items:[Q]}),angular.forEach(e,function(r){if(angular.isString(r)&&(t=r=i.trim(r),s.capitalize!==!1&&(t=r.charAt(0).toUpperCase()+r.slice(1)),n.push({text:r,value:r,display:t})),angular.isObject(r)){var o=r,l=s.display||s.text;if(o.text=r[s.text],o.text=o.text.charAt(0).toUpperCase()+o.text.slice(1),o.value=r[s.value]||o.text,o.display=r[l],s.capitalize!==!1&&(o.display=o.display.charAt(0).toUpperCase()+o.display.slice(1)),s.groupKey){var A=i.findByNotation(r,s.groupKey),c=i.findByNotation(r,s.groupDisplay||s.groupKey);if(A===a)return console.error("Cannot initialize ai.list using groupKey of "+A);s.capitalize!==!1&&(c=c.charAt(0).toUpperCase()+c.slice(1)),n[A]=n[A]||{key:A,display:c,hidden:!1},n[A].items=e.filter(function(e){return i.findByNotation(e,s.groupKey)===A})}else n.push(o)}}),n}function u(e,t){return e=e||{},t&&(e[s.queryParam]=t),e}function p(t){if(angular.isString(s.source)){var a=s.method,n=u(s.params,t);return e.when(o[a](s.source,{params:n})).then(function(e){return c(e.data)})}var r=e.defer();return r.resolve(c(s.source)),r.promise}function g(e){if(k&&a!==e){var n=t(e)(C.$parent);n?k.attr("disabled","disabled"):k.removeAttr("disabled")}}function f(){angular.forEach(C.items,function(e){s.groupKey?e.items&&angular.forEach(e.items,function(e){e.active=!1}):e.active=!1})}function h(){T.q=C.q="",b(null,C.q)}function m(e){if(e){var t;return!s.groupKey&&C.items?t=C.items.filter(function(t){return t.value===e})[0]:(angular.forEach(C.items,function(a){t||(t=a.items.filter(function(t){return t.value===e})[0])}),t)}}function v(e,t,a){var n={text:s.placeholder,value:"",display:s.placeholder};if(f(),s.selectClear||t&&(n=t,n.active=!0),T.selected=C.selected=n,s.model&&!a){var r=s.model;l.val(n.value),r.$setViewValue(n.value),r.$setTouched&&r.$setTouched(!0)}s.selectClose===!1||a||y(),h(),angular.isFunction(s.onSelected)&&s.onSelected.call(T,n,s.model,e)}function E(e){angular.forEach(d,function(t,a){t.ts!==e&&(t.options.scope.expanded=!1,d.splice(a,1))})}function y(e,t){t&&s.closePrevious!==!1&&E(t),C.expanded=!C.expanded,T.expanded=C.expanded,C.expanded||s.closeClear!==!0||(h(),k[0].blur()),C.expanded&&(x[0].focus(),d.push(T)),angular.isFunction(s.onToggled)&&s.onToggled.call(T,C.expanded,e),s.searchable!==!1&&!C.expanded&&angular.isFunction(s.closeClear)&&(T.q=C.q=a)}function b(e,t){var a=C.source;angular.isFunction(s.onFilter)?a=s.onFilter.call(T,a,e):s.groupKey?angular.forEach(a,function(e){var a=r("filter")(e.items,t);e.hidden=!a.length}):a=r("filter")(C.source,t),T.items=C.items=a}function w(){var t=[];return T.selected=C.selected=Q,T.expanded=C.expanded=!1,T.q=C.q=a,T.ts=C.ts=s.ts,T.toggle=C.toggle=y,T.find=C.find=m,T.beforeToggle=C.beforeToggle=E,T.select=function(){var e=Array.prototype.slice.call(arguments,0);e=[null].concat(e),v.apply(this,e)},C.select=v,T.filter=function(){var e=Array.prototype.slice.call(arguments,0);e=[null].concat(e),b.apply(this,e)},C.filter=b,C.$on("destroy",function(){d=[]}),T.parseDisabled=C.parseDisabled=g,p().then(function(a){T.source=C.source=a,T.items=C.items=a,t.push(i.loadTemplate(s.template||"")),t.push(i.loadTemplate(s.searchTemplate||"")),s.groupKey?t.push(i.loadTemplate(s.itemGroupTemplate||"")):t.push(i.loadTemplate(s.itemTemplate||"")),e.all(t).then(function(e){if(e&&e.length){var t=s.visibility,a="",n="";x='<div tabindex="-1"{{ATTRS}}></div>',t.ngShow&&(a+=' ng-show="'+t.ngShow+'"'),t.ngHide&&(a+=' ng-hide="'+t.ngHide+'"'),t.ngIf&&(a+=' ng-if="'+t.ngIf+'"'),x=x.replace("{{ATTRS}}",a),x=angular.element(i.compile(C.$parent,x)),x.addClass("ai-list"),s.groupKey&&x.addClass("group"),s.addClass&&x.addClass(s.addClass);var r=s.before;r.element[r.method](x),x.html(e[0]),R=i.findElement(".ai-list-items",x[0],!0),R=angular.element(R),s.searchable!==!1&&(n+=e[1]),n+=e[2],R.html(n),k=i.findElement("button:first-child",x[0],!0),k=angular.element(k),k.addClass(s.btnClass),s.blurClose!==!1&&(M=i.findElement("input",x[0],!0),M&&(M=angular.element(M),M.on("blur",function(e){e.preventDefault(),!e.relatedTarget&&C.expanded&&C.$apply(function(){y(e)})})),x.on("blur",function(e){e.preventDefault(),C.expanded&&!e.relatedTarget&&C.$apply(function(){y(e)})})),t.disabled&&k.attr("disabled","disabled"),t.readonly&&k.attr("readonly","readonly"),t.ngDisabled&&g(t.ngDisabled),C.$watch(function(){return s.model.$invalid},function(){var e=s.model;e.$touched&&(k.addClass("ng-invalid"),k.removeClass("ng-valid")),e.$valid&&(k.removeClass("ng-invalid"),k.addClass("ng-valid"))}),i.compile(C,x.contents()),angular.isFunction(s.onReady)&&s.onReady.call(T)}})}),T}if((l||i.isElement(l))&&s.source){var C,x,k,M,R,Q,T={};return A=i.parseAttrs(Object.keys(n),A),s=s||{},T.scope=C=s.scope||$rootScope.$new(),T.options=C.options=s=angular.extend({},n,A,s),Q={text:s.placeholder,value:"",display:s.placeholder},w()}}var s='<button type="button" class="btn ai-list-toggle" ng-click="toggle($event, ts)" ng-class="{expanded: expanded}"><span class="selected" ng-bind="selected.display">Please Select</span><span class="caret" ng-class="{ down: !expanded, up: expanded }"></span></button><div class="ai-list-wrapper"><div class="ai-list-items" ng-show="expanded"></div></div>',A='<ul><li ng-repeat="item in items" ng-class="{ active: item.active }"><a ng-click="select($event, item)">{{item.display}}</a></li></ul>',c='<div><div ng-repeat="group in items" ng-if="!group.hidden"><h5 ng-bind="group.display" ng-show="group.display"></h5><ul><li ng-repeat="item in group.items" ng-class="{ active: item.active }"><a ng-click="select($event, item)">{{item.display}}</a></li></ul></div></div>',u='<input type="text" ng-model="q" ng-change="filter($event, q)" class="ai-list-search form-control" placeholder="search"/>';i.getPutTemplate(n.template,s),i.getPutTemplate(n.itemTemplate,A),i.getPutTemplate(n.itemGroupTemplate,c),i.getPutTemplate(n.searchTemplate,u);var d=[];return l}],{$get:e,$set:t}}).directive("aiList",["$list",function(e){function t(e,t){try{var a,n=e.parent();return angular.forEach(n.children(),function(e,n){var r=angular.element(e),o=r.attr("_ts_");t.toString()===o&&(a=n-1)}),e.removeAttr("_ts_"),0>a?{element:angular.element(e.parent()),method:"prepend"}:{element:angular.element(n.children().eq(a)),method:"after"}}catch(r){return!1}}return{restrict:"EAC",scope:!0,require:"ngModel",link:function(n,r,o,i){function l(){r.attr("_ts_",d),A.before=t(r,d),A.visibility={disabled:!1,readonly:!1,ngHide:o.ngHide,ngShow:o.ngShow,ngIf:o.ngIf,ngDisabled:o.ngDisabled},o.disabled&&(A.visibility.disabled=!0),o.readonly&&(A.visibility.readonly=!0),A.input=r,r.css({display:"none"}),c=e(r,A,o),o.ngDisabled&&n.$watch(function(){return o.ngDisabled},function(e,t){e!==t&&n.parseDisabled(e)}),n.$watch(o.ngModel,function(e,t){if(!p&&a!==e||e!==t){var r=n.find(e);if(!r||r.value===n.selected.value)return;n.select(null,r,!0),p=!0}})}var s,A,c,u,d,p;return d=(new Date).getTime(),s={scope:n,ts:d},u=r.prop("tagName").toLowerCase(),"input"!==u?console.error("Invalid element, ai-list requires an input element with ng-model."):(A=n.$eval(o.aiList||o.aiListOptions),A=angular.extend(s,A),A.source=A.source||n.$eval(o.source),A.model=i,a===A.source?console.error("ai-list failed to initialize, invalid model."):(l(),void 0))}}}]),angular.module("ai.loader.factory",["ai.helpers"]).provider("$loader",function(){var e,t,n={name:"page",intercept:a,template:"ai-loader.html",message:"Loading",delay:600,overflow:a,onLoading:a};return t=function(e,t){var a=e;arguments.length>1&&(a={},a[e]=t),n=angular.extend(n,a)},e=["$q","$rootScope","$helpers",function(e,t,r){function o(o,i,l,A){function c(){w.loading||w.disabled||(w.loading=!0,angular.isFunction(l.onLoading)?e.when(l.onLoading(w,s)).then(function(e){e&&(w.loading=!0,l.overflow&&m.css({overflow:"hidden"}),i.addClass("show"))}):(w.loading=!0,l.overflow&&m.css({overflow:"hidden"}),i.addClass("show")))}function u(){l.overflow&&m.css({overflow:v.x,"overflow-y":v.y}),i&&i.removeClass("show"),w.loading=b.loading=!1,w.suppressed=b.suppressed=!1}function d(){w.suppressed=!0}function p(){w.disabled=!0}function g(){w.disabled=!1}function f(e,t){var a=e;arguments.length>1&&(a={},a[e]=t),l=w.options=b.options=angular.extend(l,a),b.message=l.message}function h(){w.start=b.start=c,w.stop=b.stop=u,w.set=b.set=f,w.suppress=b.suppress=d,w.enable=b.enable=g,w.disable=b.disable=p,b.message=l.message,r.loadTemplate(y).then(function(e){e?(i.html(e),r.compile(b,i.contents()),"page"===l.name&&i.addClass("ai-loader-page")):console.error("Error loading $loader template.")}),t.$on("$locationChangeStart",function(){i&&i.removeClass("show"),m&&l.overflow&&m.css({overflow:v.x,"overflow-y":v.y})}),b.$watch(w.options,function(e,t){e!==t&&(b.options=e)}),b.$on("destroy",function(){w.destroy()})}var m,v,E,y,b,w={};return angular.isString(o)||(A=l,l=i,i=o,o=a),i?(A=r.parseAttrs(Object.keys(n),A),l=l||{},b=w.scope=l.scope||t.$new(),l=w.options=b.options=angular.extend({},n,A,l),w.element=b.element=i,"page"===l.name&&(l.overflow=w.options.overflow=b.options.overflow="hidden"),s[l.name]?w=a:(m=r.findElement("body"),v=r.getOverflow(),E=i.html(),y=l.template,E&&E.length&&(y=E,i.empty()),h(),w)):console.error("Cannot configure loader with element of undefined.")}function i(e,t,a){var n;return arguments.length?1===arguments.length?s[e]:(n=o(e,t,a),n&&(s[n.options.name]=n),n):s}var l,s,A;return s={},A="data:image/gif;base64,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",l='<div><img src="'+A+'" /><div ng-bind="message" ng-show="message" class="ai-loader-message">test</div></div>',r.getPutTemplate(n.template,l),i
}],{$get:e,$set:t}}).directive("aiLoader",["$loader",function(e){return{restrict:"EAC",link:function(t,a,n){function r(){o=e(a,l,n)}var o,i,l,s,A;i={scope:t},A=["name","template","intercept","message","delay","overflow","onLoading"],l=t.$eval(n.aiLoader)||t.$eval(n.aiLoaderOptions),l=angular.extend(i,l),s=n.aiLoader?"aiLoader":"aiLoaderOptions",t.$watch(n[s],function(e,t){e!==t&&o.set(e)}),r()}}}]),angular.module("ai.loader.interceptor",[]).factory("$loaderInterceptor",["$q","$injector","$timeout",function(e,t,a){function n(){return t.get("$loader")()}function r(e){0!==e.options.delay||e.completed?(clearTimeout(e.timeoutId),e.timeoutId=a(function(){e.completed?(clearTimeout(e.timeoutId),e.stop()):e.start()},e.options.delay)):e.start()}function o(){var e=n();angular.forEach(e,function(e){e.completed=!1,e.options.intercept!==!1&&(e.suppressed||r(e))})}function i(){var e=n();angular.forEach(e,function(e){e.completed=!0,e.loading=!1,e.stop()})}return{request:function(t){return o(),t||e.when(t)},response:function(t){return i(),t||e.when(t)},responseError:function(t){return i(),e.reject(t)}}}]).config(["$httpProvider",function(e){e.interceptors.push("$loaderInterceptor")}]),angular.module("ai.loader",["ai.loader.factory","ai.loader.interceptor"]),angular.module("ai.passport.factory",[]).provider("$passport",[function(){var e,t,n,r;return e={rootKey:"Passport",routeKey:"area",401:!0,403:!0,rolesKey:"roles",userKey:"user",userRolesKey:"roles",paranoid:!1,delimiter:",",defaultUrl:"/",loginUrl:"/passport/login",resetUrl:"/passport/reset",recoverUrl:"/passport/recover",loginAction:"post /api/passport/login",logoutAction:"get /api/passport/logout",resetAction:"post /api/passport/reset",recoverAction:"post /api/passport/recover",syncAction:"get /api/passport/sync",onLoginSuccess:"/",onLoginFailed:"/passport/login",onRecoverSuccess:"/passport/login",onRecoverFailed:"/passport/recover",onUnauthenticated:"/passport/login",onUnauthorized:"/passport/login",onSyncSuccess:a,welcomeText:"Welcome ",welcomeParams:["firstName"]},t={0:"*",1:"user",2:"manager",3:"admin",4:"superadmin"},r=function(t,a){var n=t;arguments.length>1&&(n={},n[t]=a),e=angular.extend({},e,n)},n=["$rootScope","$location","$http","$route","$q",function(n,r,o,i){function l(e){var t=e.split(" "),a={method:"get"};return a.path=t[0],t.length>1&&(a.method=t[0],a.path=t[1]),a}function s(e){try{return isNaN(e)?e:parseFloat(e)}catch(t){return e}}function A(e){var t={};if(angular.isArray(e)){if(!e.length)throw new Error("Fatal error normalizing passport roles, received empty array.");angular.forEach(e,function(e,a){t[a]=e})}else{if(!angular.isObject(e)||angular.isFunction(e))throw new Error("Fatal error normalizing security roles, the format is invalid.");var a,n,r=Object.keys(e);if(!r.length)throw new Error("Fatal error normalizing passport roles, object has no keys.");if(a=s(r[0]),a="string"==typeof a,t=e,a){if(t={},n=r.map(function(t){return t=s(t),e[t]}),!n.length)throw new Error("Fatal error normalizing passport roles, object has no values.");angular.forEach(n,function(a){var n,r=s(a);if(angular.forEach(e,function(e,t){n||r===e&&(n=t)}),!n)throw new Error("Fatal error normalizing security roles, no matching key for value "+r);t[r]=n})}}return t}function c(){if(this.instance)return u;var n={};return n.user=a,n.findByNotation=function(e,t){if(!e||!t)return a;for(var n=t.split(".");n.length&&e;){var r,o=n.shift();if(r=new RegExp("(.+)\\[([0-9]*)\\]","i").exec(o),null!==r&&3===r.length){var i={arrName:r[1],arrIndex:r[2]};e=e[i.arrName]!==a?e[i.arrName][i.arrIndex]:a}else e=e[o]}return e},n.set=function(r,o){var i;r||o?angular.isObject(r)?(i=r,o=a):(i={},i[r]=o):i={},i.roles=i.roles||t,n.options=angular.extend({},e,n.options,i),n.roles=A(i.roles)},n.login=function(e){function t(e){angular.isFunction(n.options.onLoginFailed)?n.options.onLoginFailed.call(n,e):r.path(n.options.onLoginFailed)}var a=l(n.options.loginAction);o[a.method](a.path,e).then(function(e){n.user=findByNotation(e.data,n.options.userKey);var t=findByNotation(e.data,n.options.rolesKey);if(!n.user)throw new Error('Fatal error passport failed to set "user" on login.');t&&(n.roles=A(t)),angular.isFunction(n.options.onLoginSuccess)?n.options.onLoginSuccess.call(n,e):r.path(n.options.onLoginSuccess)},t)},n.logout=function(){function e(){n.user=a,r.path(n.options.loginUrl),i.reload()}if(angular.isFunction(n.options.logoutAction))n.options.logoutAction.call(n);else{var t=l(n.options.logoutAction);o[t.method](t.path).then(function(t){t&&e()})}},n.recover=function(){if(angular.isFunction(n.options.recoverAction))n.options.recoverAction.call(n);else{var e=l(n.options.recoverAction);o[e.method](e.path).then(function(e){angular.isFunction(n.options.onRecoverSuccess)?n.options.onRecoverSuccess.call(n,e):r.path(n.options.onRecoverSuccess)},function(){angular.isFunction(n.options.onRecoverFailed)?n.options.onRecoverFailed.call(n,res):r.path(n.options.onRecoverFailed)})}},n.reset=function(){},n.sync=function(){function e(e){if(e){var t=findByNotation(e,n.options.userKey),a=findByNotation(e,n.options.rolesKey);t&&(n.user=t),a&&(n.roles=A(a))}}if(!n.options.syncAction)return e();if(angular.isFunction(n.options.syncAction)){var t=n.options.syncAction.call(n);e(t)}else{var a=l(n.options.syncAction);a.method&&a.path&&o[a.method](a.path).then(function(t){t&&e(t.data)})}},n.hasRole=function(){},n.hasAnyRole=function(){},n.minRole=function(e){var t,r=n.roles||[];return angular.isString(e)&&(e=n.options.roles[e]||a),t=Math.max.apply(Math,r),t>=e},n.maxRole=function s(e){var s,t=n.roles||[];return angular.isString(e)&&(e=n.options.roles[e]||a),s=Math.max.apply(Math,t),e>s},n.unauthenticated=function(){var e=n.options.onUnauthenticated;return angular.isFunction(e)?e.call(n):(r.path(e||n.options.loginUrl),void 0)},n.unauthorized=function(){var e=n.options.onUnauthorized;return angular.isFunction(e)?e.call(n):(r.path(e||n.options.loginUrl),void 0)},n.displayName=function(e){var t="";return e=e||n.options.welcomeParams,n.user?(angular.forEach(e,function(e,a){n.user[e]&&(t+=0===a?n.user[e]:" "+n.user[e])}),t):a},n.welcome=function(e){return e?n.options.welcomeText:n.options.welcomeText+" "+displayName()},n.userRoles=function(){return n.user&&n.user[n.options.userRolesKey]?n.user[n.options.userRolesKey]:[0]},n.set(),n}var u;return c.instance=a,new c}],{$get:n,$set:r}}]),angular.module("ai.passport.interceptor",[]).factory("$passportInterceptor",["$q","$injector",function(e,t){return{responseError:function(a){var n=t.get("$passport");return 401===a.status&&n.options["401"]&&n.unauthenticated(),403===a.status&&n.options["403"]&&n.unauthorized(),e.reject(a)}}}]).config(["$httpProvider",function(e){e.interceptors.push("$passportInterceptor")}]),angular.module("ai.passport.route",[]).run(["$rootScope","$location","$passport",function(e,t,n){e.$on("$routeChangeStart",function(e,t){var r,o,i={};return t&&t.$$route&&(i=t.$$route),r=n.findByNotation(i,n.routeKey),n.options.paranoid&&r===a?n.unauthorized():(r!==a&&(o=n.hasAnyRole("*"),o||n.unauthorized()),void 0)})}]),angular.module("ai.passport",["ai.passport.factory","ai.passport.interceptor","ai.passport.route"]);var r=(angular.module("ngRoute",["ng"]).provider("$route",n),angular.$$minErr("ngRoute"));angular.module("ai.router",[]).provider("$router",["$routeProvider",function(){function e(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function t(a,n,r){for(var o=a.$$hashKey,i=0,l=n.length;l>i;++i){var s=n[i];if(angular.isObject(s)||angular.isFunction(s))for(var A=Object.keys(s),c=0,u=A.length;u>c;c++){var d=A[c],p=s[d];r&&angular.isObject(p)?(angular.isObject(a[d])||(a[d]=angular.isArray(p)?[]:{}),t(a[d],[p],!0)):a[d]=p}}return e(a,o),a}function a(e){return t(e,slice.call(arguments,1),!0)}function n(e,t){return angular.extend(Object.create(e),t)}function o(e,t){var a=t.caseInsensitiveMatch,n={originalPath:e,regexp:e},r=n.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,a,n){var o="?"===n?n:null,i="*"===n?n:null;return r.push({name:a,optional:!!o}),t=t||"",""+(o?"":t)+"(?:"+(o?t:"")+(i&&"(.+?)"||"([^/]+)")+(o||"")+")"+(o||"")}).replace(/([\/$\*])/g,"\\$1"),n.regexp=new RegExp("^"+e+"$",a?"i":""),n}var i,l,s,A,c,u;return i={caseInsensitiveMatch:!1},A={},angular.merge||(angular.merge=a),s=function(e,t){var a=e;arguments.length>1&&(a={},a[e]=t),i=angular.extend({},i,a)},c=function(e,t){var a=angular.copy(t);if(angular.isUndefined(a.reloadOnSearch)&&(a.reloadOnSearch=!0),angular.isUndefined(a.caseInsensitiveMatch)&&(a.caseInsensitiveMatch=i.caseInsensitiveMatch),A[e]=angular.extend(a,e&&o(e,a)),e){var n="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";A[n]=angular.extend({redirectTo:e},o(n,a))}return this},u=function(e){return"string"==typeof e&&(e={redirectTo:e}),c(null,e),this},l=["$location","$routeParams","$q","$injector","$templateRequest","$sce",function(e,t,a,o,i,l,s){function c(e,t){var a=t.keys,n={};if(!t.regexp)return null;var r=t.regexp.exec(e);if(!r)return null;for(var o=1,i=r.length;i>o;++o){var l=a[o-1],s=r[o];l&&s&&(n[l.name]=s)}return n}function u(){var e,a;return angular.forEach(A,function(r){!a&&(e=c(t.path(),r))&&(a=n(r,{params:angular.extend({},t.search(),e),pathParams:e}),a.$$route=r)}),a||A[null]&&n(A[null],{params:{},pathParams:{}})}function d(e,t){var a=[];return angular.forEach((e||"").split(":"),function(e,n){if(0===n)a.push(e);else{var r=e.match(/(\w+)(?:[?*])?(.*)/),o=r[1];a.push(t[o]),a.push(r[2]||""),delete t[o]}}),a.join("")}function p(t){var a=m.current;f=u(),h=f&&a&&f.$$route===a.$$route&&angular.equals(f.pathParams,a.pathParams)&&!f.reloadOnSearch&&!v,h||!a&&!f||e.$broadcast("$routeChangeStart",f,a).defaultPrevented&&t&&t.preventDefault()}function g(){var n=m.current,r=f;h?(n.params=r.params,angular.copy(n.params,a),e.$broadcast("$routeUpdate",n)):(r||n)&&(v=!1,m.current=r,r&&r.redirectTo&&(angular.isString(r.redirectTo)?t.path(d(r.redirectTo,r.params)).search(r.params).replace():t.url(r.redirectTo(r.pathParams,t.path(),t.search())).replace()),o.when(r).then(function(){if(r){var e,t,a=angular.extend({},r.resolve);return angular.forEach(a,function(e,t){a[t]=angular.isString(e)?i.get(e):i.invoke(e,null,null,t)}),angular.isDefined(e=r.template)?angular.isFunction(e)&&(e=e(r.params)):angular.isDefined(t=r.templateUrl)&&(angular.isFunction(t)&&(t=t(r.params)),t=s.getTrustedResourceUrl(t),angular.isDefined(t)&&(r.loadedTemplateUrl=t,e=l(t))),angular.isDefined(e)&&(a.$template=e),o.all(a)}}).then(function(t){r==m.current&&(r&&(r.locals=t,angular.copy(r.params,a)),e.$broadcast("$routeChangeSuccess",r,n))},function(t){r==m.current&&e.$broadcast("$routeChangeError",r,n,t)}))}var f,h,m,v=!1;return m={routes:A,reload:function(){v=!0,e.$evalAsync(function(){p(),g()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw r("norout","Tried updating route when with no current route");e=angular.extend({},this.current.params,e),t.path(d(this.current.$$route.originalPath,e)),t.search(e)}},e.$on("$locationChangeStart",p),e.$on("$locationChangeSuccess",g),m}],{$get:l,$set:s,when:c,otherwise:u}}]),angular.module("ai.step",["ai.helpers"]).provider("$step",function(){var e,t,n={key:"$id",start:0,title:"true","continue":a,breadcrumb:!1,header:"step-header.tpl.html",content:"step-content.tpl.html",actions:"step-actions.tpl.html",showNumber:a,showNext:a,showPrev:a,showSubmit:a,headTo:a,onBeforeChange:a,onChange:a,onSubmit:a,onReady:a};return t=function(e,t){var a=e;arguments.length>1&&(a={},a[e]=t),n=angular.extend(n,a)},e=["$q","$rootScope","$location","$helpers",function(e,t,r,o){function i(i,l,s){function A(){angular.forEach(B,function(e){e.active=!1})}function c(e,t,a){if(angular.isNumber(e)&&!t)return B[e];t||(t=e,e=l.key);var n=B.filter(function(a){return a[e]?a[e]===t:!1});return n&&a?n[0]:n}function u(e){return e?B.indexOf(e):-1}function d(e,t){if(!e)return B.filter(function(e){return e.active===!0})[0];var a=c(e,t,!0);a&&a.enabled&&(A(),a.active=!0)}function p(t,a,n){function r(){if(o){if(!o.enabled&&l.continue!==!1){var e,t;if(a)for(e=i-1;e>=0;e--)t=B[e],t.enabled&&(o=t,i=e);else for(e=i;e<B.length;e++)t=B[e],t.enabled&&(o=t,i=e)}o.enabled&&(A(),o.active=!0,Q=o),angular.isFunction(l.onChange)&&l.onChange.call(T,{previous:s,active:o},n)}}var o,i,s=d();angular.isNumber(t)&&(i=t,o=B[t]),angular.isObject(t)&&(i=u(t),o=t),angular.isFunction(l.onBeforeChange)?e.when(l.onBeforeChange({active:s,next:o},n)).then(function(e){e&&r()}):r()}function g(e,n){if(e||n){var r,i=B.length;angular.isObject(e)&&(n=e,e=a),r=!n,r&&(n={},n.content=e),(e||n[l.key])&&(n.enabled=n.enabled!==a?n.enabled:!0,n.active=i===l.start,n[l.key]=n[l.key]||e,n.content=n.content||e,l.title&&(n.title=n.title||"Step",n.title=n.title.charAt(0).toUpperCase()+n.title.slice(1)),n.$index=i,n.$number=i+1,o.isHtml(n.content)||o.isPath(n.content)||(n.content="<span>"+n.content+"</span>"),I.push(o.loadTemplate(n.content)),t.$broadcast("step:add",n),B.push(n))}}function f(e){var t=d();t&&p(t.$index+1,null,e)}function h(e){var t=d();t&&p(t.$index-1,!0,e)}function m(e,t){if(l.headTo!==!1){var a=B[t];!l.breadcrumb&&a.content?p(t,null,e):a&&a.href&&a.enabled&&r.path(a.href)}}function v(e){angular.isFunction(l.onSubmit)&&l.onSubmit.call(T,{active:d()},e)}function E(e,t){var a,n=c(e,t,!0);return n=n||d(),a=u(n),0===a}function y(e,t){var a,n=c(e,t,!0);return n=n||d(),a=u(n),B.length-1===a}function b(e,t){var a=c(e,t,!0);return!(!a||a.active!==!0)}function w(e,t){var a=c(e,t,!0);return!(!a||a.enabled!==!0)}function C(){var e=u(d())+1,t=B[e];return t&&t.enabled?!0:void 0}function x(){var e=u(d())-1,t=B[e];return t&&t.enabled?!0:void 0}function k(){if(M){if(angular.isString(M)&&(M=o.trim(M).split(",")),angular.isObject(M)){var t=[];angular.forEach(M,function(e,a){if(angular.isObject(e)||angular.isString(e))if(angular.isString(e)){var n={};n[l.key]=a,n.content=e,t.push(n)}else e[l.key]=e[l.key]||a,l.title&&(e.title=e.title||a),t.push(e)})}angular.forEach(M,function(e){angular.isString(e)&&(e=o.trim(e)),g(e)})}if(!i)return callback();var a,n;return a="",n='<div ng-show="isActive({{INDEX}})">{{CONTENT}}</div>',l.header&&S.push(o.loadTemplate(l.header||"")),l.content&&S.push(o.loadTemplate(l.content||"")),l.actions&&S.push(o.loadTemplate(l.actions||"")),S=S.concat(I),S=e.all(S),S.then(function(e){if(e){for(var t={header:e[0],content:e[1],actions:e[2],steps:[]},r=3;r<e.length;r++)t.steps.push(e[r]);if(a+=t.header,t.content&&t.content.length){var l,s=angular.element(t.content),A="";angular.forEach(t.steps,function(e,t){A+=n.replace("{{INDEX}}",t).replace("{{CONTENT}}",e)}),s.html(A),l=angular.element("<div/>").append(s).clone().html(),a+=l}a+=t.actions,i.html(a),o.compile(R,i.contents())}}),T.find=R.find=c,T.active=R.active=d,T.add=R.add=g,T.to=R.to=p,T.next=R.next=f,T.prev=R.prev=h,T.submit=R.submit=v,R.headTo=m,T.isFirst=R.isFirst=E,T.isLast=R.isLast=y,T.isActive=R.isActive=b,T.isEnabled=R.isEnabled=w,T.hasNext=R.hasNext=C,T.hasPrev=R.hasPrev=x,T.steps=R.steps=B,angular.isFunction(l.onReady)&&l.onReady(T),T}var M,R,Q,T={},B=[],S=[],I=[];return!angular.isElement(i)&&angular.isObject(i)&&(s=l,l=i,i=a),s=o.parseAttrs(Object.keys(n),s),l=l||{},T.scope=R=l.scope||t.$new(),T.options=R.options=l=angular.extend({},n,s,l),l.steps&&(M=l.steps,delete l.steps),k()}var l,s,A;return l='<div class="ai-step-header" ng-show="steps.length"><ul><li ng-click="headTo($event, $index)" ng-repeat="step in steps" ng-class="{ active: step.active, disabled: !step.enabled, clickable: options.headTo !== false && step.enabled, nonum: !options.showNumber === false }"><span class="title">{{step.title}}</span><span class="number">{{step.$number}}</span></li></ul></div>',s='<div ng-if="!options.breadcrumb" class="ai-step-content" ng-show="steps.length"><div ng-show="isActive($index)" ng-repeat="step in steps" ng-bind-html="step.content"></div></div>',A='<div ng-if="!options.breadcrumb" class="ai-step-actions" ng-show="steps.length"><hr/><button ng-show="options.showPrev !== false" ng-disabled="isFirst()" class="btn btn-warning" ng-click="prev($event)">Previous</button> <button ng-show="options.showNext !== false" ng-disabled="isLast()" class="btn btn-primary" ng-click="next($event)">Next</button> <button ng-show="isLast() && options.showSubmit !== false" class="btn btn-success submit" ng-click="submit($event)">Submit</button></div>',o.getPutTemplate(n.header,l),o.getPutTemplate(n.content,s),o.getPutTemplate(n.actions,A),i}],{$get:e,$set:t}}).directive("aiStep",["$step",function(e){return{restrict:"EAC",scope:!0,link:function(t,a,n){function r(){l=e(a,i,n)}var o,i,l;o={scope:t},i=t.$eval(n.aiStep||n.aiStepOptions),i=angular.extend(o,i),r()}}}]),angular.module("ai.storage",[]).provider("$storage",function(){function n(a){return a?navigator.cookieEnabled||"cookie"in t&&(t.cookie.length>0||(t.cookie="test").indexOf.call(t.cookie,"test")>-1):"localStorage"in e&&null!==e.localStorage}function r(e,t,a,n){if(!t)return a;a=a||null,n=n||0;var o=t.length;for(var i in e)if(e.hasOwnProperty(i)&&i===t[n])return o-1>n&&angular.isObject(e[i])?(n+=1,r(e[i],t,a,n)||a):e[i]||a;return a}var o,i,l={ns:"app",cookiePath:"/",cookieExpiry:30};return i=function(e,t){var a=e;arguments.length>1&&(a={},a[e]=t),l=angular.extend({},l,a)},o=[function(){function e(e){function o(){if(!y)return new Error("Keys can only be obtained when localStorage is available.");var e=[];for(var t in localStorage)if(localStorage.hasOwnProperty(t)&&t.substr(0,v)===h)try{e.push(t.substr(v))}catch(a){return a}return e}function i(e,t){if(!y)return d(e,t);typeof t===a&&(t=null);try{(angular.isObject(t)||angular.isArray(t))&&(t=angular.toJson(t)),localStorage.setItem(h+e,t)}catch(n){return d(e,t)}}function s(e,t){var a;return t?A(e,t):y?(a=localStorage.getItem(h+e),a?"{"===a.charAt(0)||"["===a.charAt(0)?angular.fromJson(a):a:null):p(e)}function A(e,t){var a,n;return y?(a=s(e),n=angular.isObject(a)||!1,a?n?r(a,t):a:new Error("Invalid operation, storage item must be an object.")):new Error("Cannot get by property, localStorage must be enabled.")}function c(e){if(!y)return g(e);try{localStorage.removeItem(h+e)}catch(t){return g(e)}}function u(){if(!y)return f();for(var e in localStorage)if(localStorage.hasOwnProperty(e)&&e.substr(0,v)===h)try{c(e.substr(v))}catch(t){return f()}}function d(n,r){if(typeof r===a)return!1;if(!E)return new Error("Cookies are not supported by this browser.");try{var o="",i=new Date;null===r&&(m.expiry=-1,r=""),m.expiry&&(i.setTime(i.getTime()+24*e.cookieExpiry*60*60*1e3),o="; expires="+i.toGMTString()),n&&(t.cookie=h+n+"="+encodeURIComponent(r)+o+"; path="+e.cookiePath)}catch(l){throw l}}function p(e){if(!E)return new Error("Cookies are not supported by this browser.");for(var a=t.cookie.split(";"),n=0;n<a.length;n++){for(var r=a[n];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(h+e+"="))return decodeURIComponent(r.substring(h.length+e.length+1,r.length))}return null}function g(e){d(e,null)}function f(){for(var e,a=null,n=t.cookie.split(";"),r=0;r<n.length;r++){for(a=n[r];" "===a.charAt(0);)a=a.substring(1,a.length);return e=a.substring(v,a.indexOf("=")),g(e)}}var h,m,v,E,y,b={};return e=angular.extend(l,e),h=e.ns+".",v=h.length,y=n(),E=n(!0),y||E?(b.supports={localStorage:n(),cookies:n(!0)},b.get=s,b.set=i,b.delete=c,b.clear=u,b.storage={keys:o,supported:y},b.cookie={get:p,set:d,"delete":g,clear:f,supported:E},b):new Error("Storage Factory requires localStorage browser support or cookies must be enabled.")}return e}],{$set:i,$get:o}}),angular.module("ai.table",["ngSanitize","ai.helpers"]).provider("$table",[function(){var e,n,r;return e={auto:a,uppercase:a,columns:{},source:[],server:!1,serverFilter:!1,method:"get",config:{},params:{},mapParams:!1,batch:50,loader:!1,loaderDelay:100,actions:a,changeable:a,sortable:a,searchable:a,selectable:!1,selectableAll:!1,editable:!1,exportable:!1,orderable:!1,orderBy:a,pager:a,display:10,pages:5,counts:a,pagination:a,firstLast:a,"goto":!0,actionsTemplate:"table-actions.tpl.html",tableTemplate:"table.tpl.html",pagerTemplate:"table-pager.tpl.html",nodataTemplate:"table-nodata.tpl.html",loaderTemplate:"table-loader.tpl.html",bootstrap:!0,bordered:!0,striped:!0,hover:!1,condensed:!1,responsive:!0,onSelected:a,onDeleted:a,onLoad:a,onReset:a,onReady:a,beforeFilter:a,beforeUpdate:a,beforeDelete:a,beforeView:a,beforeDownload:a},r=function(t,a){var n=t;arguments.length>1&&(n={},n[t]=a),e=angular.extend(e,n)},n=["$rootScope","$http","$q","$templateCache","$filter","$timeout","$helpers","$location",function(n,r,o,i,l,s,A,c){function u(e,t,a){e=+e||1,a=a||1,null===t?(t=e,e=0):t=+t||0;for(var n=-1,r=Math.max(Math.ceil((t-e)/(a||1)),0),o=new Array(r);++n<r;)o[n]=e,e+=a;return o}function d(e,t,a){var n=1;return t=t||{},Object.keys(e).forEach(function(r){angular.isObject(e[r])?(n+=1,a&&a>n&&d(e[r],t)):t[r]?(t[t[r]]=e[r],delete t[r]):t[r]=e[r]}),t}function p(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e}function g(i,g,f){function h(e){var t=Object.keys(et).length-1;angular.forEach(g.columns,function(a,n){a.headerTemplate&&(e.push(A.loadTemplate(a.headerTemplate)),et[n]={index:t+=1,isHeader:!0}),a.cellTemplate&&(e.push(A.loadTemplate(a.cellTemplate)),et[n]={index:t+=1})})}function m(e){var t,a;return t=[],g.bootstrap?(g.bordered||t.push("table-bordered"),g.hover||t.push("table-hover"),g.condensed||t.push("table-condensed"),g.striped||t.push("table-striped"),g.responsive||t.push("table-responsive")):t=["btn","btn-default","row","row-fluid","col-sm-8","col-sm-6","col-sm-4","span-8","span-6","span-4","span-12","pagination","form-control","table-striped","table-bordered","table-hover","table-condensed","table-responsive","table"],a=new RegExp("("+t.join("|")+")","g"),e=e.replace(a,"")}function v(){var e,t,n=[],i={method:g.method,params:g.params||{}};if(g.server){var l,s,A,c=2*_.display,u=_.orderBy||{},p=_.page||1,f=_.source.rows.length;c>g.batch&&(g.batch=c),l=(p-1)*_.display+g.batch,s=l-f,A=g.batch&&s>g.batch?s:g.batch||a,t={limit:A,skip:f,where:_.q||a,sort:u.column?u.column+u.reverse?" desc":" asc":a},g.mapParams&&(t=d(t,g.mapParams||{}),angular.extend({},i.params,t))}if(angular.isArray(g.source)||angular.isObject(g.source))return angular.isArray(g.source)?n=g.source:angular.forEach(g.source,function(e,t){angular.isObject(e)&&(e._key=t),n.push(e)}),e=o.defer(),e.resolve(n),e.promise;if(i=angular.extend(i,g.config),i.url=g.source,angular.isFunction(g.onLoad)){var h,m,v,E=g.onLoad(i)||i;h=g.mapParams.where||"where",m=g.mapParams.sort||"sort",v=g.mapParams.limit||"limit",i=angular.extend(i,E),_.q=i.params[h],g.limit=i.params[v],g.orderBy=i.params[m]}return r(i).then(function(e){return e.data||[]},function(){at=!0,_.loading=!1})}function E(e,t){at=!1,t=t||!1,g.loader&&(at=!0,s(function(){at&&(tt&&tt.addClass("loading"),_.loading=!0)},g.loaderDelay||0)),v().then(function(a){var n,r;n=a?a.data||a:[],n=b(n),t&&g.server&&g.batch?_.source.rows.push.apply(_.source.rows,n.rows):_.source=n,_.filtered=_.source.rows,_.columns=_.source.columns,r=a.total||_.source.rows.length,_.total=r,at=!1,_.loading=!1,tt&&tt.removeClass("loading"),angular.isFunction(e)?e():(M(),Z())})}function y(e){function t(e){for(var t=e.concat(),a=0;a<t.length;++a)for(var n=a+1;n<t.length;++n)t[a]===t[n]&&t.splice(n--,1);return t}if(!e)return[];var a=Object.keys(e),n=Object.keys(g.columns);return t(n.concat(a))}function b(e){var t,n=[],r=e;return t=y(e[0]),t.edits=a,g.columns.edits={excluded:!0},g.columns.$$hashKey={excluded:!0},angular.forEach(t,function(e){var t,r=g.columns[e],o={sortable:!0,filter:!1,headerClass:!1,cellClass:!1,headerTemplate:!1,cellTemplate:!1,draggable:!1,resolve:a};(g.auto!==!1||r)&&(r=r===!1?{excluded:!0}:r,r=angular.extend(o,r),r.map=r.map||e,r.label=""===r.label||null===r.label?"":r.label||e,r.sortable=r.sortable===!1?!1:g.sortable!==!1,r.accessible=r.accessible===!1?!1:r.accessible===a?!0:r.accessible,t=et[e]||a,r.headerTemplate&&t&&t.isHeader&&(r.headerTemplate=t.template),r.cellTemplate&&t&&!t.isHeader&&(r.cellTemplate=t.template),n.push(r))}),{columns:n,rows:r}}function w(){C()}function C(e){function t(){angular.isFunction(g.beforeFilter)?o.when(g.beforeFilter(_.source.rows,e)).then(function(e){_.filtered=angular.isArray(e)?l("orderBy")(e,n):l("filter")(l("orderBy")(_.source.rows,n),e),_.page=1,Z(1)}):g.serverFilter||(_.filtered=l("filter")(l("orderBy")(_.source.rows,n),e),_.page=1,Z(1))}var n=_.orderBy;return _.editing?(_.q=a,void 0):(e=e||_.q,g.server&&g.batch&&g.serverFilter?E(function(){_.q=a,t()}):t(),void 0)}function x(){_.editing||(_.q=a,_.page=1,R(!1),angular.isFunction(g.onReset)&&g.onReset(),C())}function k(e){var t=_.orderBy&&angular.isString(_.orderBy)?_.orderBy.replace("-",""):a,n=_.orderBy;g.sortable!==!1&&e.sortable!==!1&&(e=angular.isObject(e)?e.map:e,n=n&&t===e?"-"===n.charAt(0)?n.replace("-",""):"-"+n:e,_.orderBy=n,M())}function M(e,t){_.editing||(t=t||_.filtered,e=e||_.orderBy,_.filtered=l("orderBy")(t,e))}function R(e){return _.editing?void 0:(_.selectAll=e,_.selected=[],angular.forEach(_.filtered,function(t){t.selected=e,e===!0&&_.selected.push(t)}),_.selected)}function Q(e){var t=_.display*e;_.editing||1===_.indices.filtered||e>_.indices.max||(_.page=e,_.gotoPage=a,F(e)?U(e):_.source.rows.length<t||e>_.indices.filtered?E(Z,!0):Z(e))}function T(e,t){var a=e.which||e.keyCode;13===a&&Q(t)}function B(e){I(e)&&Q(e-1)}function S(e){J(e)&&Q(e+1)}function I(e){return e=e||_.page,e-1>0}function J(e){var t=Math.ceil(_.filtered.length/g.display);return e=e||_.page,t-1>e-1}function F(e){var t=_.indices.filtered,a=_.display*e;return _.source.rows.length<a||e>t?!1:-1!==_.pages.indexOf(e)}function U(e){var t,a;e=e||_.page,t=1===e?0:(e-1)*_.display,a=t+_.display,_.filteredRows={start:t,end:a}}function D(e){_.editing||(_.display=parseInt(e),_.page=1,E(Z,!0))}function K(e){var t,n;if(g.sortable===!1||!e.sortable)return"";if(n=angular.copy(_.orderBy)||a,!angular.isFunction(n)){if(angular.isArray(n)){var r=!1;angular.forEach(n,function(a){r||(t=a.replace("-",""),t===e.map&&(n=a,r=!0))})}else t=n?n.replace("-",""):a;return n&&e.map===t?"-"===n.charAt(0)?"descending":"ascending":"unsorted"}}function $(e,t,a){var n,r={},o=[],i=["onSelect","onReady","onLoad","onDelete","onReset"];for(n in e)e.hasOwnProperty(n)&&t.test(n)&&e[n]&&-1===i.indexOf(n)&&(o.push(n),r[n.toLowerCase().replace("on","")]={key:n,callback:e[n]});return a?r:o}function O(e,t,n){if(!_.editing&&(angular.isNumber(t)&&(t=_.source.rows[t]||a),t&&(_.selected=[],"multi"!==_.selectable?(angular.forEach(_.filtered,function(e,t){t!==n&&(e.selected=!1)}),t.selected=!t.selected,t.selected&&_.selected.push(t)):(t.selected=!t.selected,angular.forEach(_.filtered,function(e,a){a!==n&&(t.active=!1),e.selected&&_.selected.push(e)}),t.active=!t.active)),angular.isFunction(g.onSelected))){var r=_.selected;g.multiple||(r=_.selected[0]),g.onSelected(t||a,_.selected,e)}}function j(e,t,a){if(!_.editing&&_.selectable&&(e||0===e.button||1===e.button)){var n=angular.element(e.target);return n.hasClass("ai-table-cell")||n.hasClass("ai-table-cell-view")?(O(e,t,a),void 0):!1}}function P(e){function t(e){angular.isString(e)&&c.path(e)}_.editing||(angular.isNumber(e)&&(e=_.source.rows[e]||a),e&&angular.isFunction(g.beforeView)&&o.when(g.beforeView(e,t)).then(function(e){e!==!1&&t(e)}))}function N(e){function t(){_.source.rows.splice(_.source.rows.indexOf(e),1),_.selected&&_.selected.length&&-1!==_.selected.indexOf(e)&&_.selected.splice(_.selected.indexOf(e),1),_.filtered=_.source.rows,_.q=a,Z()}_.editing||(angular.isNumber(e)&&(e=_.source.rows[e]||a),e&&(angular.isFunction(g.beforeDelete)?o.when(g.beforeDelete(e,t)).then(function(e){e===!0&&t()}):t()))}function G(e,t){return angular.isFunction(e)&&_.source.rows.filter(e),angular.isObject(e)?_.source.rows.filter(function(t){return Object.keys(e).every(function(a){return new RegExp(e[a]).test(t[a])})}):e&&t?_.source.rows.filter(function(e){return Object.keys(e).every(function(a){return new RegExp(t).test(e[a])})}):[]}function Y(e){function t(){e=angular.extend(e,e.edits),e.edits=a,_.editing=a}var n,r,i,l;if(e){if(_.selected.length)return alert("You cannot edit rows while selecting."),!1;angular.isNumber(e)&&(e=_.source.rows[e]||a),i=_.source.rows.indexOf(e),_.editing&&(l=_.source.rows.indexOf(_.editing),l!==i&&(_.editing.edits=a,_.editing=a)),e&&(n=_.source.columns.filter(function(e){return!!e.editType})||[],n.length?e.edits?angular.isFunction(g.beforeUpdate)?o.when(g.beforeUpdate(e.edits,t)).then(function(e){e===!0?t(e):H()}):t():(r=d(e),e.edits=r,_.editing=e):alert("No columns are editable."))}}function H(){_.editing&&(_.editing.edits=a,_.editing=a)}function L(e){function t(){angular.isFunction(e)&&nt&&(clearInterval(a),e.call(X,_))}var a;a=setInterval(t,50)}function q(){function e(e,o){e&&e.length&&(o=o||"download.csv",a=Object.keys(e[0]),a.splice(a.indexOf("$$hashKey"),1),i+=a.join(",")+"\n",angular.forEach(e,function(e){var t,n;t="",n=1,angular.forEach(e,function(e,t){"$$hashKey"!==t&&(i+=n<a.length?e+",":e+"\n"),n+=1})}),r=encodeURI(i),n=t.createElement("a"),n.setAttribute("href",r),n.setAttribute("download",o),n.click())}var a,n,r,i="data:text/csv;charset=utf-8,";angular.isFunction(g.beforeDownload)?o.when(g.beforeDownload(_.filtered,"download.csv")).then(function(t){angular.isObject(t)&&e(t.filtered,t.fileName)}):e(_.filtered,"download.csv")}function z(){_.source={columns:[],rows:[]},_.columns=[],_.filtered=[],_.orderBy=g.orderBy,_.uppercase=g.uppercase,_.changeDisplay=D,_.displayed=[5,10,25,50],_.display=g.display,_.selected=[],_.selectable=g.selectable!==!1,_.selectableAll=g.selectableAll,_.changeable=g.changeable!==!1,_.editable=g.editable,_.selectAll=!1,_.selectAllRows=R,_.selectTableRow=j,_.deleteRow=N,_.editRow=Y,_.cancelEdit=H,_.viewRow=P,_.editing=a,_.draggable=p(),_.orderable=g.orderable,_.exportable=g.exportable,_.exportURI=q,_.actions=g.actions!==!1,_.searchable=g.searchable!==!1,_.filter=w,_.reset=x,_.q=a,_.sort=k,_.sortClass=K,_.page=1,_.pager=g.pager!==!1,_.pages=[],_.pageTo=Q,_.pageToKeyUp=T,_.pagePrev=B,_.pageNext=S,_.hasNext=J,_.hasPrev=I,_.counts=g.counts!==!1,_.pagination=g.pagination!==!1,_.firstLast=g.firstLast,_.goto=g.goto,_.gotoPage=a,_.options=g,_.loading=!1,_.eventMap=$(g,/^on.+$/i,!0),_.bind=E,_.init=W}function V(){X.getSource=function(){return _.source},X.getSelected=function(){return _.selected},X.getEditing=function(){return _.editing},X.getOrderBy=function(){return _.orderBy},X.setRows=function(e){var t=b(e);_.source.rows=t.rows,_.filtered=t.rows,Z(1)},X.options=g,X.isDraggable=p(),X.pageTo=Q,X.hasPrev=I,X.hasNext=J,X.pagePrev=B,X.pageNext=S,X.loadedPage=F,X.filter=C,X.sort=M,X.reset=x,X.exportURI=q,X.findRow=G,X.selectRow=O,X.deleteRow=N,X.selectAllRows=R,X.editRow=Y,X.cancelEdit=H,X.viewRow=P,X.ready=L,X.bind=E,X.init=W}function Z(e){var t,a,n,r,o;e=e||_.page,_.display=_.display||g.display||10,n=_.display,r=Math.ceil(_.filtered.length/n),o=Math.ceil(_.total/n),_.pages=[],M(),g.pager===!1&&(_.page=e=1,_.display=n=_.filtered.length),t=e<g.pages?1:Math.ceil(e-g.pages/2),a=t+g.pages,a>r&&(a=r+1,t=a-g.pages),a>o&&(a=o+1,t=a-g.pages),1>t&&(t=1),_.indices={start:t,end:a,filtered:r,max:o},_.pages=u(t,a),U(e)}function W(){var e,t;i&&(i.empty(),e=[A.loadTemplate(g.actionsTemplate),A.loadTemplate(g.tableTemplate),A.loadTemplate(g.pagerTemplate),A.loadTemplate(g.nodataTemplate),A.loadTemplate(g.loaderTemplate)],et={actions:{index:0},table:{index:1},pager:{index:2},nodata:{index:3},loader:{index:4}},h(e),t=o.all(e),z(),V(),t.then(function(e){var t,a;angular.forEach(et,function(t){e[t.index]&&(t.template=e[t.index])}),E(function(){rt=!_.filtered||!_.filtered.length||g.auto===!1&&!Object.keys(g.columns).length,rt&&(_.pager=!1,_.actions=!1),-1===_.displayed.indexOf(g.display)&&(_.displayed.push(g.display),_.displayed.sort(function(e,t){return e-t})),M(g.orderBy),Z(),a=rt?et.nodata.template:'<div class="ai-table-wrapper ai-table-responsive">'+et.loader.template+et.table.template+"</div>",t=et.actions.template+a+et.pager.template,t=m(t),i.html(t),A.compile(_,i.contents()),tt=A.findElement(".ai-table-loader"),nt=!0,ot||L(g.onReady),ot=!0
})}))}var X,_,et,tt,at,nt,rt,ot;return X={},nt=!1,ot=!1,arguments.length<3&&(f=g,g=i,i=g.element),f=A.parseAttrs(Object.keys(e),f),_=g.scope||n.$new(),g=angular.extend({},e,f,g),g.element=g.element||i,W(),X}var f,h,m,v,E;return h='<div class="ai-table-actions" ng-show="actions"><div class="ai-table-actions-row row row-fluid"><div class="ai-table-actions-filter col-sm-6 span-6"><div class="row row-fluid" ng-show="searchable"><div class="col-sm-8 span-8"><input class="form-control" type="text" placeholder="Search" ng-model="q" ng-change="filter(q)" ng-disabled="editing"/></div><div class="col-sm-4 span-4"><button class="btn btn-warning" type="button"  ng-click="reset()" ng-disabled="editing">Reset</button></div></div></div><div class="ai-table-actions-options col-sm-6 span-6"><div class="row row-fluid form-inline" ng-show="options"><div class="col-sm-3 span-3"><div ng-show="exportable"><button ng-click="exportURI()" class="btn btn-warning">Export to CSV</button></div></div><div class="col-sm-3 span-3"><div ng-show="goto"><input type="text" ng-model="gotoPage" class="form-control goto" placeholder="Goto" ng-keyup="pageToKeyUp($event, gotoPage)" ng-disabled="editing"/>  <button ng-click="pageTo(gotoPage)" class="btn btn-primary" ng-disabled="editing || (gotoPage > indices.max)">Go</button></div></div><div class="col-sm-6 span-6 text-right"><label ng-show="changeable">Displayed</label><select ng-show="changeable" class="form-control" ng-model="display" ng-change="changeDisplay(display)" ng-disabled="editing"><option ng-repeat="d in displayed">{{d}}</option></select><button ng-click="selectAllRows(true)" ng-show="!selectAll && selectable && selectableAll" class="btn btn-primary" ng-model="selectAll" ng-disabled="editing">Select All</button><button style="min-width: 80px;" ng-click="selectAllRows(false)" ng-show="selectAll && selectable && selectableAll" class="btn btn-primary" ng-model="selectAll" ng-disabled="editing">Clear All</button></div></div></div></div></div>',f='<table class="ai-table-table table table-bordered table-striped table-hover table-condensed" ng-class="{ \'ai-table-selectable\': selectable }"><thead><tr><th class="ai-table-header" ng-class="sortClass(column)" ng-repeat="column in columns" ng-click="sort(column)" ng-if="!column.excluded"></th></tr></thead><tbody><tr class="ai-table-row" ng-repeat="row in filtered" ng-click="selectTableRow($event, row, $index)" ng-if="$index >= filteredRows.start && $index < filteredRows.end" ng-class="{ \'ai-table-row-selected\': row.selected,  \'ai-table-row-editing\': row.edits }"><td class="ai-table-cell" ng-if="!column.excluded" ng-repeat="column in columns"></td></tr></tbody></table>',v='<div class="ai-table-pager" ng-show="pager"><div class="ai-table-pager-row row"><div class="ai-table-pager-records col-sm-6"><div ng-show="counts"><span>Page <strong>{{page}}</strong> of <strong>{{indices.filtered}}</strong></span>  -   <span>Filtered (<strong>{{filtered.length}}</strong>)</span>  -   <span>Total (<strong>{{total}}</strong>)</span></div></div><div class="ai-table-pager-pages col-sm-6"><ul class="pagination" ng-show="pagination && indices.filtered > 0"><li ng-class="{ disabled: !hasPrev(page) || editing }"><a ng-click="pagePrev(page)">&laquo;</a></li><li ng-class="{ disabled: page == 1 || editing }" ng-show="firstLast"><a ng-click="pageTo(1)">First</a></li><li ng-class="{ active: pg == page, disabled: editing }" ng-repeat="pg in pages"><a ng-click="pageTo(pg)" ng-bind="pg"></a>                           </li><li ng-class="{ disabled: page == indices.filtered || indices.filtered === 1 || editing }" ng-show="firstLast"><a ng-click="pageTo(indices.filtered)">Last</a></li><li ng-class="{ disabled: !hasNext(page) || indices.filtered ===1 || editing }"><a ng-click="pageNext(page)">&raquo;</a></li></ul></div></div></div>',E='<div class="ai-table-table table table-bordered table-striped table-hover table-condensed"><div class="ai-table-nodata">0 records found in collection or columns not specified.</div></div>',m='<div class="ai-table-loader" ng-show="loading"><div><div>&nbsp;</div></div></div>',A.getPutTemplate(e.actionsTemplate,h),A.getPutTemplate(e.tableTemplate,f),A.getPutTemplate(e.pagerTemplate,v),A.getPutTemplate(e.nodataTemplate,E),A.getPutTemplate(e.loaderTemplate,m),g}],{$get:n,$set:r}}]).directive("aiTable",["$table",function(e){return{restrict:"EAC",scope:!0,link:function(t,a,n){function r(){l=e(a,i,n),l.ready(function(){t.instance=this})}var o,i,l;o={scope:t},t.$watch(function(){return n.aiTable||n.aiTableOptions},function(e,t){},!0),t.$on("$destroy",function(){a.remove(),l=null,i=null}),i=t.$eval(n.aiTable||n.aiTableOptions),i=angular.extend(o,i),r()}}}]).directive("aiTableHeader",["$compile",function(e){return{restrict:"AEC",link:function(t,a){var n,r;n=function(){var n=t.column.label,o=t.column.headerClass||null;if(!t.column.excluded&&"$$hashKey"!==t.column.map)return a.html(""),o&&a.addClass(o),r=angular.isFunction(t.column.accessible)?t.column.accessible:function(){return t.column.accessible},r()?(t.column.header?(a.html(t.column.header),e(a.contents())(t)):(angular.isString(n)&&t.$parent.$parent.uppercase!==!1&&(n=n.charAt(0).toUpperCase()+n.slice(1)),a.text(n)),void 0):(t.column.excluded=!0,void 0)},n()}}}]).directive("aiTableCell",["$compile","$filter","$parse","$q",function(e,t,n,r){function o(e){for(var t,a=e.parentNode;null!==a&&!t;){var n=a;angular.forEach(n.classList,function(e){t||"table"===e&&(t=n)}),a=n.parentNode}return t}return{restrict:"AEC",link:function(i,l){function s(e){return e=e||!1,e?A(x(p)):x(p)}function A(e){return m&&(angular.isFunction(m)?e=m(e,i.column):(m=m.replace(/\s?([|])\s?/,"|").replace(/^\s?|\s?$/g,""),m=m.split("|"),t(m[0])&&(e=t(m[0])(e,m[1])))),e}function c(){return i.viewValue=s(!0),i.modelValue=s(),d=angular.isFunction(g.accessible)?g.accessible:function(){return g.accessible},v&&(E='<div class="ai-table-cell-view" ng-show="!row.edits || !column.editType">'+v+"</div>"),y&&(y='<div class="ai-table-cell-edit" ng-show="row.edits">'+y+"</div>",E+=y),g.editType&&!y&&("select"!==g.editType&&"textarea"!==g.editType?(b=b.replace("{{type}}",g.editType),E+=b):("select"===g.editType&&g.editOptions&&(w=w.replace("{{options}}",g.editOptions),E+=w),"textarea"===g.editType&&(E+=C))),d()?(l.html(E),e(l.contents())(i),void 0):(g.excluded=!0,void 0)}function u(){i.column.excluded||i.column===!1||"$$hashKey"===i.column.map||(l.html(""),l.off(h),f&&l.addClass(f),h&&h.length&&l.on(h,function(e){var t=i.eventMap[e.type];t&&t.callback&&angular.isFunction(t.callback)&&i.$digest(function(){t.callback.call(this,p,i.column,e)})}),angular.isFunction(g.resolve)?r.when(g.resolve(p,g)).then(function(e){e&&(i.resolvedValue=e),c()}):c())}var d,p=i.row,g=i.column,f=(p[g.map],g.cellClass||g.headerClass||null),h=Object.keys(i.eventMap),m=g.filter,v=g.cellTemplate||a,E='<div class="ai-table-cell-view" ng-show="!row.edits || !column.editType" ng-bind="viewValue"></div>',y=g.editTemplate||a,b='<div class="ai-table-cell-edit" ng-show="row.edits"><input ng-model="modelValue" type="{{type}}" class="form-control" /></div>',w='<div class="ai-table-cell-edit" ng-show="row.edits"><select class="form-control" ng-model="modelValue" ng-options="{{options}}" ></select></div>',C='<div class="ai-table-cell-edit" ng-show="row.edits"><textarea ng-model="modelValue" class="form-control" /></textarea>',x=n(g.map);h=h.join(" "),g.editType=g.editTemplate?"custom":g.editType,i.parent=angular.element(o(l[0])).scope(),i.$watch(function(){return i.row[i.column.map]},function(e,t){e!==t&&(i.editing||(i.viewValue=s(e,!0),angular.isFunction(g.resolve)&&r.when(g.resolve(p,g)).then(function(e){e&&(i.resolvedValue=e)})))}),i.$watch("modelValue",function(e,t){e!==t&&i.editing&&(p.edits[g.map]=e)}),u()}}}]),angular.module("ai.tree",["ai.helpers"]).provider("$tree",function(){var e,t,n={template:"ai-tree.html",labelTemplate:"ai-tree-label.html",label:"label",value:"value",children:"children",active:"active",method:"get",params:{},icon:!0,expanded:!1,expandAll:!1,onSelect:a,onToggle:a,onReady:a};return t=function(e,t){var a=e;arguments.length>1&&(a={},a[e]=t),n=angular.extend(n,a)},e=["$helpers","$q","$http","$rootScope",function(e,t,r,o){function i(i,l,s){function A(){var a=[e.loadTemplate(l.template),e.loadTemplate(l.labelTemplate)];return t.all(a)}function c(e,t){return angular.isArray(e)?t(e):(angular.isString(e)?r.get(e,{params:l.params}).then(function(e){w=e.data,b=l.tree.options.model=e.data,t(e.data)},function(e){console.error(e),t()}):t(),void 0)}function u(e){return e.children&&e.children.length}function d(e,t){angular.forEach(e,function(e){e.children&&d(e.children,t),e.active=t})}function p(e){angular.forEach(e,function(e){e.label=e[l.label||l.value],e.value=e[l.value],e.children=e[l.children],e.active=e[l.active]||!1,e.toggle=!1,e.icon=l.icon===!1?!1:!0,u(e)&&(e.options=l,e.expanded=l.expanded||e.expanded||!1,e.toggle=!0)})}function g(e){var t=[];return angular.forEach(e,function(e){if(u(e)){var a=g(e.children);t=t.concat(a)}else t.push(e)}),t}function f(e){var t=[];return angular.forEach(e,function(e){if(u(e)){var a=f(e.children),n=g(e.children);e.state=n.length===a.length?"checked":a.length>0?"intermediate":"unchecked",t=t.concat(a)}else e.active?(e.state="checked",t.push(e)):e.state="unchecked"}),l.tree.selected=t,t}function h(e,t){angular.forEach(e,function(e){u(e)&&(e.expanded=t!==a?t:!e.expanded,h(e.children,t))})}function m(e,t,n){var r=e&&"click"===e.type;r||(n=t,t=e,e=null),t.expanded=n===a?!t.expanded:n,(a!==n||l.expandAll)&&h(t.children,n),angular.isFunction(l.onToggle)&&l.onToggle(t,b,e)}function v(){return l.tree.selected}function E(e,t){var a=e&&"click"===e.type;a||(t=e,e=null),u(t)?(t.active=!t.active,d(t.children,t.active),t.active&&m(e,t,!0)):t.active=!t.active,f(b),angular.isFunction(l.onSelect)&&l.onSelect(t,b,e)}function y(){c(w,function(t){return t?(p(t),f(b),x.nodes=C.nodes=t,A().then(function(t){var a=t[0],n=t[1];a=a.replace("{{LABEL_TEMPLATE}}",n),i.empty().append(e.compile(C,a)),angular.isFunction(l.onReady)&&!l.tree.ready&&(l.onReady(l.tree,b),l.tree.ready=!0)}),x):void 0})}var b,w,C,x={};return i?(s=e.parseAttrs(Object.keys(n),s),l=l||{},C=x.scope=l.scope||o.$new(),l=x.options=C.options=angular.extend({},n,l,s),x.element=C.element=i,w=l.model,b=l.tree.options.model,x.select=C.select=E,x.toggle=C.toggle=m,x.selected=C.selected=v,y(),x):console.error("Cannot configure tree with element of undefined.")}var l='<ul><li ng-repeat="node in nodes track by $index"><span class="ai-tree-caret" ng-class="{expanded: node.expanded}" ng-show="node.toggle" ng-click="toggle($event, node)"></span><div class="ai-tree-item" ng-click="select($event, node)" ng-class="node.state"><span class="ai-tree-icon" ng-if="node.icon"></span>{{LABEL_TEMPLATE}}</div><ai-tree ng-if="node.children" ng-show="node.expanded" ng-model="node.children" ai-tree-options="options" class="ai-tree-child"></ai-tree></li></ul>',s='<span class="ai-tree-label" ng-bind="node.label"></span>';return e.getPutTemplate(n.template,l),e.getPutTemplate(n.labelTemplate,s),i}],{$get:e,$set:t}}).directive("aiTree",["$tree","$helpers",function(e){return{restrict:"EAC",scope:!0,link:function(t,a,n){function r(){l=e(a,i,n)}var o,i,l;o={scope:t},i=t.$eval(n.aiTree||n.aiTreeOptions)||{},delete i.scope,i.tree=i.tree||t,i=angular.extend(o,i),i.model=n.ngModel||i.model,angular.isString(i.model)&&!/\//g.test(i.model)&&(i.model=t.$eval(i.model)),r()}}}]);angular.module("ai.validate",["ai.helpers"]).provider("$validate",function(){var e,t,n={elements:["input","textarea","select"],exclude:[],template:'<span class="ai-validate-message">{{message}}</span>',tooltipClass:"animated fadeIn",tooltipAdj:{top:-2.5,left:0},tooltipFallback:"top",prefixes:["ai"],validateOnDirty:!1,validateOnTouched:a,validateOnSubmit:a,validateOnDirtyEmpty:a,pristineOnReset:a,messageTitlecase:a,novalidate:!0,onReady:null,validators:{required:"{{name}} is required.",minlength:"{{name}} must be at least {{value}} characters in length.",maxlength:"{{name}} must not exceed {{value}} characters in length.","ng-required":"{{name}} is required.","ng-minlength":"{{name}} must be at least {{value}} characters in length.","ng-maxlength":"{{name}} must not exceed {{value}} characters in length.",min:"{{name}} must be at least {{value}}.",max:"{{name}} must must not exceed {{value}}.","ng-pattern":"{{name}} must match the pattern {{value}}.",email:"{{name}} must be a valid email address.",tel:"{{name}} must be a valid phone number.",url:"{{name}} must be a valid url web address.",date:"{{name}} must be a valid date.",time:"{{name}} must be a valid time.",datetime:"{{name}} must be a valid date/time value.","ai-compare":"{{name}} must be equal to {{value}} field."}};return t=function(e){angular.extend(n,e)},e=["$helpers",function(e){function t(t,a){var r={};return t=t||{},t&&t.validators&&(t._validators=t.validators,delete t.validators),a=e.parseAttrs(Object.keys(n),a),t._validators=t._validators||{},r.options=angular.extend({},n,a,t),r}return{elements:n.elements,factory:t}}],{$get:e,$set:t}}).controller("AiValidateFormController",["$scope","$helpers","$timeout",function(n,r,o){function i(){if(!m.tooltipEnabled){var e,t;t=n.formElement,e=t[0].querySelectorAll("ai-validate-summary"),e.length||(e=t[0].querySelectorAll("[ai-validate-summary]")),e=e&&e.length?angular.element(e):a,e&&(y=n.options.summaryTemplate||y,y=y.replace(/{{form}}/g,n.formName),m.summaryElement=r.compile(n,y),e.replaceWith(m.summaryElement))}}function l(e,n){var r;return r=n.querySelectorAll?n.querySelectorAll(e):!r||!r.length&&n[0].querySelectorAll?n[0].querySelectorAll(e):!r||!r.length&&t?t.querySelectorAll(e):a,r?angular.element(r):a}function s(){var e,n=s.width;return n===a&&(e=t.createElement("div"),e.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,t.body.appendChild(e),n=s.width=e.offsetWidth-e.clientWidth,t.body.removeChild(e)),n}function A(t,a,r){function o(n){a.removeClass("top"),a.removeClass("right"),a.removeClass("left"),a.removeClass("bottom"),a.css({left:0,top:0}),a.addClass(n);var r,A,c,u,d,p,g;return A={height:a[0].clientHeight,width:a[0].offsetWidth},c={height:t[0].clientHeight,width:t[0].offsetWidth},u={top:t[0].offsetTop,left:t[0].offsetLeft},g=s(),d={width:e.innerWidth-g,height:e.innerHeight},p={},r={top:function(){p.top=u.top-A.height,p.left=u.left+c.width-(A.width/2+c.width/2)+i.left},right:function(){p.top=(c.height-A.height)/2+(u.top+i.top),p.left=u.left+c.width},bottom:function(){p.top=u.top+c.height,p.left=u.left+c.width-(A.width/2+c.width/2)+i.left},left:function(){p.top=(c.height-A.height)/2+(u.top+i.top),p.left=u.left-A.width}},r[n](),p.left<0?l&&"left"!==l?o(l):{top:p.top,left:p.left+Math.abs(p.left)}:p.left+A.width>d.width?l&&"right"!==l?o(l):{top:p.top,left:p.left-Math.abs(p.left+A.width-d.width)}:p.top+A.height>d.height?l&&"bottom"!==l?o(l):{top:p.top-Math.abs(p.top+A.height-d.height),left:p.left}:p.top-A.height<0?l&&"top"!==l?o(l):{top:Math.abs(p.top-A.height),left:p.left}:{top:p.top,left:p.left}}var i,l;n.options.tooltipClass&&a.addClass(n.options.tooltipClass),t.addClass("ai-validate-tooltip"),i=n.options.tooltipAdj||{top:-2.5,left:0},l=n.options.tooltipFallback||null,a.data({input:t,pos:r}),a.css(o(r))}function c(){n.options.validateOnSubmit!==!1&&n.formElement.on("submit",function(){n.$apply(function(){n.submitForm()})}),n.options.pristineOnReset!==!1&&n.formElement.on("reset",function(){n.$apply(function(){n.resetForm()})})}function u(e){var t=n.options.validators;return t[e]||a}function d(e){return e=e.replace(/([a-z])([A-Z])/g,"$1 $2"),e=e.replace(/\b([A-Z]+)([A-Z])([a-z])/,"$1 $2$3"),e=e.replace(/([A-Z]+)*([A-Z][a-z])/g,"$1 $2"),e.charAt(0).toUpperCase()+e.slice(1)}function p(e){if(!m.submitted){var t=m[e]||null;return t.$modelValue===a?(t.$invalid=!1,t.$valid=!0,t.$setPristine(!0),!1):!0}}function g(e,t,a){var r,o,i;return o=n.options._validators[e],i=n.options.validators[t],o&&(o=o[t]),r=o||i,n.options.messageTitlecase!==!1&&(e=d(e)),angular.isFunction(r)&&(r=r({attr:t,value:a},m)),/{{name}}/.test(r)&&(r=r.replace(/{{name}}/g,e||"")),/{{attr}}/.test(r)&&(r=r.replace(/{{attr}}/g,t||"")),/{{value}}/.test(r)&&(r=r.replace(/{{value}}/g,a||"")),r}function f(e,t,a,r){var o,i,l,s,A,c;return s=n.options.template||v,n.options.prefixes.push("ng"),A=n.options.prefixes.join("|"),c=new RegExp("("+A+")-","gi"),m.tooltipEnabled&&(s=E),l=r?!1:!0,r=r||"{{form}}.{{name}}.$error.{{attr}}",n.options.validateOnDirty&&(r+=n.options.validateOnDirtyEmpty===!1?' && {{form}}.{{name}}.$dirty && {{form}}.requireValue("'+e+'")':" && {{form}}.{{name}}.$dirty"),n.options.validateOnTouched!==!1&&(r+=" && {{form}}.{{name}}.$touched"),n.options.validateOnSubmit!==!1&&(r+=" || {{form}}.submitted && {{form}}.{{name}}.$error.{{attr}}"),t=t.replace(c,""),o=r.replace(/{{form}}/g,n.formName).replace(/{{name}}/g,e).replace(/{{attr}}/g,t),s=s.replace(/{{message}}/,a),i=angular.element(s).attr("ng-show",o),i.hasClass("ai-validate-message")||i.addClass("ai-validate-message"),l&&n.watchExpression(o,a),i}function h(e,t){var o;if(e.parent()){var i=e.parent();o=i.hasClass("input-group")||i.hasClass("input-prepend")||i.hasClass("input-append")||a}if(m.summaryElement&&t.addClass("ai-summary"),t.hasClass("ai-generated")||t.addClass("ai-generated"),o?e.parent().after(t):e.after(t),t=r.compile(n,t),m.tooltipEnabled){var l=n.options.template.split(" ").pop()||"top";A(angular.element(e),t,l),m.validationElements.push(t)}}var m,v,E,y,b,w,C;y='<div ai-validate-summary><ul class="ai-validate-summary" ng-show="{{form}}.summary"><li ng-repeat="(expression,message) in {{form}}.validators">{{message}}</li></ul></div>',E='<div class="tooltip"><div class="tooltip-inner">{{message}}</div><div class="tooltip-arrow"></div></div>',v='<span class="ai-validate-message">{{message}}</span>',C=!1,n.findElement=l,n.buildExpression=f,n.init=function(t){if(!C){C=!0,n.reinitForm(!0),m=m||t,m.resetForm=n.resetForm,m.submitForm=n.submitForm,m.reinitForm=n.reinitForm,m.validators={},m.inputElements=[],m.validationElements=[];var r=l(n.options.elements,n.formElement);if(m.inputElements=r=r&&r.length>0?r:[],m.tooltipEnabled=n.options.template&&-1!==n.options.template.indexOf("tooltip"),i(),n.options.validateOnDirtyEmpty===!1&&(m.requireValue=p),!r.length)return C=!1,void 0;c(),angular.forEach(r,function(e){e=angular.element(e);var t,r,o;r=e[0].attributes,o=e[0].type,t=r.name?r.name.value:a,t&&-1===n.options.exclude.indexOf(t)&&(e.hasClass("ai-validate-input")||e.addClass("ai-validate-input"),angular.forEach(r,function(n){var r=n.name||a,o=!1;if("type"===r&&(r=n.value,o=!0),r&&u(r)){var i,l;i=o?g(t,r,a):g(t,r,n.value),l=f(t,r,i),h(e,l,t)}}))}),n.options.onReady&&n.options.onReady(m,n),C=!1,m.tooltipEnabled&&(m.positionTooltips=function(){angular.forEach(m.validationElements,function(e){var t=e.data();A(t.input,e,t.pos)})},angular.element(e).bind("resize",function(){m.positionTooltips()}))}},n.watchExpression=function(e,t){n.$watch(function(){return n.$eval(e)},function(a){var r=m.validators.hasOwnProperty(e);!r&&a&&(m.validators[e]=t),r&&!a&&delete m.validators[e],0===Object.keys(m.validators).length?m.summary=!1:(m.submitted&&n.set.dirty(),m.summaryElement&&(m.summary=!0))})},n.set={pristine:function(e){m&&n.formElement&&m.inputElements.length&&(m.summary=!1,m.submitted=!1,angular.forEach(m.inputElements,function(t){t=angular.element(t);var n,r;if(t[0].attributes&&t[0].attributes.name){if(n=t[0].attributes.name.value||a,r=m[n]||a,!n||!r)throw new Error("Form property could not be found or has an invalid name attribute. Cannot set pristine.");if(e)if(angular.isObject(e))if(e[r.$name]){var o=e[r.$name];r.$setViewValue(o),t.val(o)}else r.$setViewValue(a),t.val(a);else r.$setViewValue(a),t.val(a);r.$setPristine(!0),r.$setUntouched(!0),r.$dirty=!1,t.addClass("ng-pristine").removeClass("ng-dirty")}}),o(function(){m.$dirty=!1,m.$setPristine(!0),m.$setUntouched(!0),m.submitted=!1,b=!1}))},dirty:function(){m&&n.formElement&&m.inputElements.length&&(angular.forEach(m.inputElements,function(e){e=angular.element(e);var t,n;if(e[0].attributes&&e[0].attributes.name){if(t=e[0].attributes.name.value||a,n=m[t]||a,!t||!n)throw new Error("Form property could not be found or has an invalid name attribute. Cannot set pristine.");n.$setPristine(!1),n.$dirty=!0,e.removeClass("ng-pristine").addClass("ng-dirty")}}),m.$pristine=!1,m.$setUntouched(!1),m.$setDirty(!0),w=!1)}},n.resetForm=function(e){e=e||!1,b||(b=!0,n.set.pristine(e))},n.submitForm=function(e){w||(w=!0,m.submitted=!0,e===!0&&n.formElement.submitForm(),n.set.dirty())},n.destroyForm=function(){n.removeValidations(),delete n.formName,delete n.formElement,delete m.validators,delete m.inputElements,delete m.validationElements},n.removeValidations=function(e){e=e||l(".ai-validate-message.ai-generated",n.formElement[0]),e&&e.length&&e.remove()},n.reinitForm=function(e){e=e||!1,n.removeValidations(),m&&(m.validators={},m.inputElements=[],m.validationElements=[]),e||n.init()}}]).directive("aiValidateForm",["$validate",function(e){var t,n;return t=e.elements,n=e.factory,angular.isArray(t)&&(t=t.join(",")),{restrict:"AC",controller:"AiValidateFormController",compile:function(e){var r=e[0].querySelectorAll(t);return r&&r.length&&angular.forEach(r,function(e){e=angular.element(e);var t,n,r=e[0].attributes;r.name||(n=r["ng-model"]||r["data-ng-model"]||a,t=n?n.value.split(".").pop():null,t&&e.attr("name",t))}),function(e,r,o){var i,l,s,A;if(l=r.attr("name")||null,!l)throw new Error('Form name is invalid or missing. Please use name="some_value" to name your form.');if(i=e[l]||a,!i)throw new Error("Scope does not contain the requested form.");e.formElement=r,e.formName=l,e.parentScope=e.$parent,s=o.aiValidateForm||o.aiValidateOptions||o.aiValidateFormOptions,A=n(e.$eval(s),o),e.options=A.options,e.options.elements=t,e.options.novalidate&&r.attr("novalidate",""),e.$watch(function(){return o.aiValidateForm||o.aiValidateOptions||o.aiValidateFormOptions},function(t,a){t!==a&&(e.options=angular.extend(e.options,t))},!0),e.init(i)}}}}]).directive("aiValidateMessage",[function(){return{restrict:"EAC",require:"?aiValidateForm",link:function(e,a,n){var r;n.ngShow&&(n.aiValidateMessage&&(r=e.findElement('[name="'+n.aiValidateMessage+'"]',t),r&&r.addClass("ai-validate-input")),a.hasClass("ai-validate-message")||a.addClass("ai-validate-message"),e.watchExpression(n.ngShow,a.text()),e.$watch(function(){var t=e[e.formName];return t.summaryElement},function(e){e?a.addClass("ai-summary"):a.removeClass("ai-summary")}))}}}]);angular.module("ai.widget",[]).provider("$widget",function(){var e,t,n={number:{defaultValue:a,places:2,event:"blur"},"case":{casing:"first",event:"blur"},compare:{defaultValue:a,compareTo:a,dataType:"string",precision:"minutes"},lazyload:{src:a,parent:"head",position:"append"}};return t=function(e,t){angular.isObject(e)?(t=e,e=a,n=angular.extend(n,t)):n[e]=angular.extend(n[e],t)},e=[function(){function e(e,t){return t=t||{},n[e]?t=angular.extend({},n[e],t):t}return e}],{$get:e,$set:t}}).directive("aiPrevent",[function(){return{restrict:"AC",link:function(e,t,a){a.ngClick&&t.on("click",function(e){e.preventDefault()})}}}]).directive("aiNumber",["$widget","$helpers","$timeout",function(e,t,n){return{restrict:"AC",require:"?ngModel",link:function(r,o,i,l){function s(e){return e=t.tryParseFloat(e),e&&(e=e.toFixed(d.places)),e}function A(e){e!==a&&(e=s(e),e||(e=s(g))),e===a&&(e=d.defaultValue!==a?d.defaultValue:""),o.val(e),l.$modelValue=e,g=e}function c(){o.unbind(d.event),o.on(d.event,function(e){r.$apply(function(){A(e.target.value)})}),n(function(){var e=o.val();e||d.defaultValue!==a&&(e=d.defaultValue),A(e)},0)}var u,d,p,g;u=angular.copy(e("number")),p=t.parseAttrs(Object.keys(u),i),d=i.aiNumber||i.aiNumberOptions,d=angular.extend(u,p,r.$eval(d)),c()}}}]).directive("aiCase",["$timeout","$widget","$helpers",function(e,t,a){return{restrict:"AC",require:"?ngModel",link:function(n,r,o,i){function l(e){return e?"title"===d?e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}):"first"===d?e.charAt(0).toUpperCase()+e.slice(1):"camel"===d?e.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()}):"pascal"===d?e.replace(/\w+/g,function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}):"lower"===d?e.toLowerCase():"upper"===d?e.toUpperCase():e:void 0}function s(){n.$apply(function(){var e=r.val(),t=l(e);i?i.$modelValue=t:r.val(l(e))})}function A(){d=u.casing,r.on(u.event,function(e){s(e)}),r.on("keyup",function(e){var t=e.which||e.keyCode;13===t&&(e.preventDefault(),s(e))}),e(function(){s()},100)}var c,u,d,p;c=angular.copy(t("case")),u={},p=a.parseAttrs(Object.keys(c),o);var g=o.aiCase||o.aiCaseOptions;angular.isString(g)&&(u.casing=g),angular.isObject(g)&&(u=n.$eval(g)),u=angular.extend(c,p,u),A()}}}]).directive("aiCompare",["$widget","$helpers",function(e,t){function a(){try{{moment()}return!0}catch(e){return!1}}function n(e){return!isNaN(parseInt(e,10))&&parseFloat(e,10)===parseInt(e,10)}return{restrict:"AC",require:"^ngModel",link:function(r,o,i,l){function s(e){var t;if(f.$viewValue&&l.$viewValue)if("string"===u.dataType)t=f.$viewValue===e;else if("integer"===u.dataType)t=n(f.$viewValue)&&n(l.$viewValue)?parseInt(f.$viewValue)===parseInt(e):!1;else if(/^(date|time|datetime)$/.test(u.dataType)){var a,r,o,i;a=f.$viewValue,r=l.$viewValue,"time"===u.dataType&&(a="01/01/1970 "+a,r="01/01/1970 "+r),a=moment(a),r=moment(r),"date"===u.dataType?(o=r.diff(a,"days"),t=0===o):"time"===u.dataType?(o=r.diff(a,u.precision),t=0===o):"datetime"===u.dataType?(o=r.diff(a,"days"),i=r.diff(a,u.precision),t=0===o&&0===i):t=!1}else t=!1;else t=u.defaultValue||"";return l.$setValidity("compare",t),t}function A(){if(d=o[0].form,d&&(p=r[d.name],f=p[u.compareTo]||u.compareTo,p&&u.compareTo&&f)){if(/^(date|time|datetime)$/.test(u.dataType)&&!g)return console.warn("ai-compare requires moment.js, see http://momentjs.com/.");l.$formatters.unshift(s),l.$parsers.unshift(s)}}var c,u,d,p,g,f,h;g=a(),c=angular.copy(e("compare")),h=t.parseAttrs(Object.keys(c),i);var m=i.aiCompare||i.aiCompareOptions;m=angular.isString(m)&&-1===m.indexOf("{")?{compareTo:m}:r.$eval(m),u=angular.extend({},c,h,m),A()}}}]).directive("aiPlaceholder",["$widget",function(){function e(e,t){try{var a,n=e.parent();return angular.forEach(n.children(),function(e,n){var r=angular.element(e),o=r.attr("_ts_");t.toString()===o&&(a=n-1)}),e.removeAttr("_ts_"),0>a?{element:angular.element(e.parent()),method:"prepend"}:{element:angular.element(n.children().eq(a)),method:"after"}}catch(r){return!1}}function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}function n(){var e=t.createElement("input");return"placeholder"in e}return{restrict:"AC",link:function(t,r,o){function i(){var t,o="<label>{{NAME}}</label>",i=(new Date).getTime();l=a(l),!s&&l&&r.attr("placeholder",l),r.attr("_ts_",i),t=e(r,i),-1!==l.indexOf(".")&&(l=l.split("."),l=l[1]?l[1]:l[0]),!n()&&t&&(o=o.replace("{{NAME}}",l),o=angular.element(o),t.element[t.method](o))}var l,s;s=r.attr("placeholder"),l=r.attr("placeholder")||o.aiPlaceholder||o.ngModel,i()}}}]).directive("aiLazyload",["$widget","$helpers","$rootScope",function(e,n,r){return{restrict:"EA",scope:!1,link:function(o,i,l){function s(){A&&p.contains(A)&&p.removeChild(A)}var A,c,u,d,p,g;return u=angular.copy(e("lazyload")),d=n.parseAttrs(Object.keys(u),l),d=angular.extend({},u,d),p=n.findElement(d.parent)[0],p&&p.appendChild?(c=n.findElement("script",t[d.parent])||[],"prepend"===d.position&&(d.position=0),g=angular.isNumber(d.position)?c[d.position]:a,c.length&&g!==a||(d.position="append"),A=t.createElement("script"),a===d.src?A.text=i.text():A.src=d.src,g?p.insertBefore(A,g):p.appendChild(A),i.remove(),r.$on("$routeChangeSuccess",s),o.$on("destroy",s),void 0):console.error("Cannot lazy load script using parent "+d.parent+". Ensure the dom element exists.")}}}])}(window,document);